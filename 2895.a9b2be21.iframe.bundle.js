"use strict";(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[2895],{"./components/atoms/Fab/fab.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),__jsx=__webpack_require__("./node_modules/react/index.js").createElement,Fab=function Fab(_ref){var position=_ref.position,children=_ref.children,className=_ref.className;return __jsx("button",{type:"button",className:(0,clsx__WEBPACK_IMPORTED_MODULE_1__.Z)("fixed",function getFabPositionStyles(){switch(position){case"top-left":return"top-4 left-4";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-right":return"bottom-4 right-4";default:return"bottom-8 right-8"}}(),className)},children)};Fab.displayName="Fab",Fab.__docgenInfo={description:"",methods:[],displayName:"Fab",props:{position:{required:!1,tsType:{name:"union",raw:'"top-left" | "top-right" | "bottom-left" | "bottom-right"',elements:[{name:"literal",value:'"top-left"'},{name:"literal",value:'"top-right"'},{name:"literal",value:'"bottom-left"'},{name:"literal",value:'"bottom-right"'}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}},__webpack_exports__.Z=Fab;try{fab.displayName="fab",fab.__docgenInfo={description:"",displayName:"fab",props:{position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:'"top-left"'},{value:'"top-right"'},{value:'"bottom-left"'},{value:'"bottom-right"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Fab/fab.tsx#fab"]={docgenInfo:fab.__docgenInfo,name:"fab",path:"components/atoms/Fab/fab.tsx#fab"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/TextInput/text-input.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_primer_octicons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@primer/octicons-react/dist/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_excluded=["name","label","placeholder","state","id","value","descriptionText","className","fieldRef","disabled","borderless","handleChange","errorMsg"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,TextInput=function TextInput(_ref){var name=_ref.name,label=_ref.label,placeholder=_ref.placeholder,_ref$state=_ref.state,state=void 0===_ref$state?"default":_ref$state,id=_ref.id,value=_ref.value,descriptionText=_ref.descriptionText,className=_ref.className,fieldRef=_ref.fieldRef,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$borderless=_ref.borderless,borderless=void 0!==_ref$borderless&&_ref$borderless,handleChange=_ref.handleChange,_ref$errorMsg=_ref.errorMsg,errorMsg=void 0===_ref$errorMsg?"":_ref$errorMsg,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("label",{className:"flex flex-col w-full"},label&&__jsx("p",{className:"mb-2 text-sm text-light-slate-9"},label),__jsx("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("flex-1 px-2 text-light-slate-12 bg-white shadow-input border transition rounded-lg py-1 flex items-center",borderless&&"!border-none","invalid"===state?"focus-within:border-light-red-10":"focus-within:border-light-orange-9 ",disabled&&"bg-light-slate-3 text-light-slate-6",className)},__jsx("input",(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref:fieldRef||inputRef,type:"text",name:name,id:id||name||"",placeholder:placeholder||"",className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("w-full focus:outline-none placeholder:font-normal placeholder-slate-400",disabled&&"bg-light-slate-3 cursor-not-allowed text-light-slate-9","bg-inherit"),disabled:disabled,value:value,onChange:function handleChangeState(event){null==handleChange||handleChange(event.target.value)}},props)),!disabled&&__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"valid"===state?__jsx(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_4__.kD1,{className:"ml-1 text-light-orange-9",size:12}):value?__jsx("span",{title:"Clear input",className:"flex items-center ml-1",onClick:function handleResetInput(){null==handleChange||handleChange(""),fieldRef&&(fieldRef.current.value="")}},__jsx(_primer_octicons_react__WEBPACK_IMPORTED_MODULE_4__.S7k,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.Z)("invalid"===state&&errorMsg?"text-light-red-11":"text-light-slate-8","cursor-pointer"),size:12})):""))),descriptionText?__jsx("p",{className:"mt-2 text-sm text-light-slate-9"},descriptionText):"","invalid"===state&&errorMsg?__jsx("p",{className:"mt-3 text-sm text-light-red-11 "},errorMsg):"")};TextInput.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{state:{defaultValue:{value:'"default"',computed:!1},required:!1,tsType:{name:"union",raw:'"default" | "valid" | "invalid"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"valid"'},{name:"literal",value:'"invalid"'}]},description:""},disabled:{defaultValue:{value:"false",computed:!1},required:!1},borderless:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},errorMsg:{defaultValue:{value:'""',computed:!1},required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},descriptionText:{required:!1,tsType:{name:"string"},description:""},fieldRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},handleChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"void"}}},description:""}}},__webpack_exports__.Z=TextInput;try{textinput.displayName="textinput",textinput.__docgenInfo={description:"",displayName:"textinput",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},state:{defaultValue:{value:"default"},description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"valid"'},{value:'"invalid"'}]}},borderless:{defaultValue:{value:"false"},description:"",name:"borderless",required:!1,type:{name:"boolean"}},descriptionText:{defaultValue:null,description:"",name:"descriptionText",required:!1,type:{name:"string"}},errorMsg:{defaultValue:{value:""},description:"",name:"errorMsg",required:!1,type:{name:"string"}},fieldRef:{defaultValue:null,description:"",name:"fieldRef",required:!1,type:{name:"RefObject<HTMLInputElement>"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!1,type:{name:"((value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/TextInput/text-input.tsx#textinput"]={docgenInfo:textinput.__docgenInfo,name:"textinput",path:"components/atoms/TextInput/text-input.tsx#textinput"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/HighlightInput/highlight-input-form.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return highlight_input_form}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),next_router=__webpack_require__("./node_modules/next/router.js"),index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),hi_index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),rx_index_esm=__webpack_require__("./node_modules/react-icons/rx/index.esm.js"),io5_index_esm=__webpack_require__("./node_modules/react-icons/io5/index.esm.js"),bs_index_esm=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),useDebounce=__webpack_require__("./node_modules/rooks/dist/esm/hooks/useDebounce.js"),md_index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),swiper_react=__webpack_require__("./node_modules/swiper/swiper-react.mjs"),bi_index_esm=__webpack_require__("./node_modules/react-icons/bi/index.esm.js"),vsc_index_esm=__webpack_require__("./node_modules/react-icons/vsc/index.esm.js"),modules=__webpack_require__("./node_modules/swiper/modules/index.mjs"),dist=__webpack_require__("./node_modules/react-loading-skeleton/dist/index.mjs"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),tooltip=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),change_capitalization=function changeCapitalization(string,isMakeUppercase){var tempString=string.slice(0);return isMakeUppercase?tempString.charAt(0).toUpperCase()+tempString.slice(1):tempString.charAt(0).toLowerCase()+tempString.slice(1)},supabase=__webpack_require__("./lib/utils/supabase.ts");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var createHighlights=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(data){var _sessionResponse$data,sessionResponse,sessionToken,response;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,_context.prev=4,_context.next=7,fetch("".concat("https://beta.api.opensauced.pizza/v1","/user/highlights"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)},method:"POST",body:JSON.stringify(_objectSpread({},data))});case 7:if((response=_context.sent).ok){_context.next=10;break}throw response;case 10:return _context.abrupt("return",response.json());case 13:return _context.prev=13,_context.t0=_context.catch(4),_context.abrupt("return",_context.t0.json().then((function(err){return err instanceof Error?change_capitalization(err.message,!0):change_capitalization(err.message[0],!0)})));case 16:case"end":return _context.stop()}}),_callee,null,[[4,13]])})));return function createHighlights(_x){return _ref.apply(this,arguments)}}(),github=__webpack_require__("./lib/utils/github.ts"),fetchGithubPRInfo=__webpack_require__("./lib/hooks/fetchGithubPRInfo.ts"),useToast=__webpack_require__("./lib/hooks/useToast.ts"),text_input=__webpack_require__("./components/atoms/TextInput/text-input.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js"),generatePrHighlightSummaryByCommitMsg=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(commitMessages){var _sessionResponse$data,sessionResponse,sessionToken,payload,res,data;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,payload={descriptionLength:400,commitMessages:commitMessages,language:"english",diff:"commitMessage",tone:"formal",temperature:7},_context.prev=5,_context.next=8,fetch("".concat("https://beta.api.opensauced.pizza/v1","/prs/description/generate"),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(sessionToken)},body:JSON.stringify(payload)});case 8:if(!(res=_context.sent).ok){_context.next=16;break}return _context.next=12,res.json();case 12:return data=_context.sent,_context.abrupt("return",data.description);case 16:return _context.abrupt("return",null);case 17:_context.next=23;break;case 19:return _context.prev=19,_context.t0=_context.catch(5),console.log(_context.t0),_context.abrupt("return",null);case 23:case"end":return _context.stop()}}),_callee,null,[[5,19]])})));return function generatePrHighlightSummaryByCommitMsg(_x){return _ref.apply(this,arguments)}}(),fab=__webpack_require__("./components/atoms/Fab/fab.tsx"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_excluded=["className","onChangeText","typewrite","textContent","defaultRow"],__jsx=react.createElement,TypeWriterTextArea=react.forwardRef((function(_ref){var className=_ref.className,onChangeText=_ref.onChangeText,typewrite=_ref.typewrite,textContent=_ref.textContent,defaultRow=_ref.defaultRow,props=(0,objectWithoutProperties.Z)(_ref,_excluded),textareaRef=(0,react.useRef)(null);(0,react.useEffect)((function(){typewrite&&textContent&&function typeWrite(text){var textarea=textareaRef.current;if(textarea){textarea.focus(),textarea.value="",textarea.selectionStart=textarea.selectionEnd=textarea.value.length;var interval=setInterval((function(){textarea.value.length===text.length?clearInterval(interval):textarea.value=text.slice(0,textarea.value.length+1)}),10)}}(textContent)}),[typewrite,textContent]);return __jsx("textarea",(0,esm_extends.Z)({onChange:function handleInputChange(event){null==onChangeText||onChangeText(event.target.value),function autoGrowTextarea(){var textarea=textareaRef.current;textarea&&(textarea.style.height="auto",textarea.style.height="".concat(textarea.scrollHeight,"px"))}()},className:(0,clsx_m.Z)("flex h-20 md:min-h-26 md:h-auto w-full rounded-md  py-2  text-sm placeholder:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50",className),rows:defaultRow,ref:textareaRef},props))}));TypeWriterTextArea.displayName="TypeWriterTextArea",TypeWriterTextArea.__docgenInfo={description:"",methods:[],displayName:"TypeWriterTextArea"};try{TypeWriterTextArea.displayName="TypeWriterTextArea",TypeWriterTextArea.__docgenInfo={description:"",displayName:"TypeWriterTextArea",props:{onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!1,type:{name:"((value: string) => void)"}},typewrite:{defaultValue:null,description:"",name:"typewrite",required:!1,type:{name:"boolean"}},textContent:{defaultValue:null,description:"",name:"textContent",required:!1,type:{name:"string"}},defaultRow:{defaultValue:null,description:"",name:"defaultRow",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/TypeWriterTextArea/type-writer-text-area.tsx#TypeWriterTextArea"]={docgenInfo:TypeWriterTextArea.__docgenInfo,name:"TypeWriterTextArea",path:"components/atoms/TypeWriterTextArea/type-writer-text-area.tsx#TypeWriterTextArea"})}catch(__react_docgen_typescript_loader_error){}var fetchGithubIssueInfo=__webpack_require__("./lib/hooks/fetchGithubIssueInfo.ts"),generate_issue_highlight_summary_console=__webpack_require__("./node_modules/console-browserify/index.js"),generateIssueHighlightSummary=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(issueTitle,issueBody,issueComments){var _sessionResponse$data,sessionResponse,sessionToken,payload,res,data;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,payload={summaryLength:400,issueTitle:issueTitle,issueDescription:issueBody,issueComments:issueComments,language:"english",diff:"issue",tone:"formal",temperature:7},_context.prev=5,_context.next=8,fetch("".concat("https://beta.api.opensauced.pizza/v1","/issues/summary/generate"),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(sessionToken)},body:JSON.stringify(payload)});case 8:if(!(res=_context.sent).ok){_context.next=16;break}return _context.next=12,res.json();case 12:return data=_context.sent,_context.abrupt("return",data.summary);case 16:return _context.abrupt("return",null);case 17:_context.next=23;break;case 19:return _context.prev=19,_context.t0=_context.catch(5),generate_issue_highlight_summary_console.log(_context.t0),_context.abrupt("return",null);case 23:case"end":return _context.stop()}}),_callee,null,[[5,19]])})));return function generateIssueHighlightSummary(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),generate_issue_highlight_summary=generateIssueHighlightSummary,fetchDevToBlogInfo=__webpack_require__("./lib/hooks/fetchDevToBlogInfo.ts"),dev_to=__webpack_require__("./lib/utils/dev-to.ts"),generate_blog_highlight_summary_console=__webpack_require__("./node_modules/console-browserify/index.js"),generateBlogHighlightSummary=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(blogTitle,blogMarkdown){var _sessionResponse$data,sessionResponse,sessionToken,payload,res,data;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,payload={summaryLength:400,blogTitle:blogTitle,blogMarkdown:blogMarkdown,language:"english",diff:"issue",tone:"formal",temperature:7},_context.prev=5,_context.next=8,fetch("".concat("https://beta.api.opensauced.pizza/v1","/blogs/summary/generate"),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(sessionToken)},body:JSON.stringify(payload)});case 8:if(!(res=_context.sent).ok){_context.next=16;break}return _context.next=12,res.json();case 12:return data=_context.sent,_context.abrupt("return",data.summary);case 16:return _context.abrupt("return",null);case 17:_context.next=23;break;case 19:return _context.prev=19,_context.t0=_context.catch(5),generate_blog_highlight_summary_console.log(_context.t0),_context.abrupt("return",null);case 23:case"end":return _context.stop()}}),_callee,null,[[5,19]])})));return function generateBlogHighlightSummary(_x,_x2){return _ref.apply(this,arguments)}}(),generate_blog_highlight_summary=generateBlogHighlightSummary,search=__webpack_require__("./components/atoms/Search/search.tsx"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),calendar=__webpack_require__("./components/molecules/Calendar/calendar.tsx"),popover=__webpack_require__("./components/molecules/Popover/popover.tsx"),gh_open_graph_img=__webpack_require__("./components/molecules/GhOpenGraphImg/gh-open-graph-img.tsx"),dev_to_social_img=__webpack_require__("./components/molecules/DevToSocialImage/dev-to-social-img.tsx"),card_repo_list=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),dialog=__webpack_require__("./components/molecules/Dialog/dialog.tsx"),highlight_input_form_console=(__webpack_require__("./node_modules/swiper/swiper.css"),__webpack_require__("./node_modules/swiper/modules/pagination.css"),__webpack_require__("./node_modules/console-browserify/index.js")),highlight_input_form_jsx=react.createElement;function highlight_input_form_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function highlight_input_form_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?highlight_input_form_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):highlight_input_form_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function AddRepo(_ref){var taggedRepos=_ref.taggedRepos,deleteTaggedRepo=_ref.deleteTaggedRepo,showAddRepoDialog=_ref.showAddRepoDialog;return highlight_input_form_jsx("div",{className:"flex items-center justify-between w-full gap-1 px-2 py-1 text-sm bg-white border rounded-lg h-10"},highlight_input_form_jsx("div",{className:"flex w-full"},highlight_input_form_jsx(card_repo_list.Z,{repoList:taggedRepos,deletable:!0,onDelete:function onDelete(repoName){return deleteTaggedRepo(repoName)}}),highlight_input_form_jsx(tooltip.Z,{content:"Add a repo"},highlight_input_form_jsx("button",{className:"flex gap-1  p-1 pr-2 border-[1px] border-light-slate-6 rounded-lg text-light-slate-12 items-center cursor-pointer",onClick:function onClick(e){e.preventDefault(),showAddRepoDialog(!0)}},highlight_input_form_jsx(bs_index_esm.ra4,{className:"rounded-[4px] overflow-hidden text-light-slate-11"}),highlight_input_form_jsx("span",{className:"max-w-[45px] md:max-w-[100px] truncate text-light-slate-11 text-xs"},"Add a repo")))))}AddRepo.displayName="AddRepo";var HighlightInputForm=function HighlightInputForm(_ref2){var refreshCallback=_ref2.refreshCallback,_useSupabaseAuth=(0,useSupabaseAuth.Z)(),providerToken=_useSupabaseAuth.providerToken,loggedInUser=_useSupabaseAuth.user,_useState=(0,react.useState)(!1),isDivFocused=_useState[0],setIsDivFocused=_useState[1],_useState2=(0,react.useState)(!1),isSummaryButtonDisabled=_useState2[0],setIsSummaryButtonDisabled=_useState2[1],_useState3=(0,react.useState)(!1),isFormOpenMobile=_useState3[0],setIsFormOpenMobile=_useState3[1],_useState4=(0,react.useState)(!1),addTaggedRepoFormOpen=_useState4[0],setAddTaggedRepoFormOpen=_useState4[1],_useState5=(0,react.useState)(!1),loading=_useState5[0],setLoading=_useState5[1],_useState6=(0,react.useState)(!1),isTyping=_useState6[0],setIsTyping=_useState6[1],_useState7=(0,react.useState)(""),bodyText=_useState7[0],setBodyText=_useState7[1],_useState8=(0,react.useState)(0),charCount=_useState8[0],setCharCount=_useState8[1],_useState9=(0,react.useState)(""),highlightLink=_useState9[0],setHighlightLink=_useState9[1],textAreaRef=(0,react.useRef)(null),_useState10=(0,react.useState)([]),taggedRepoList=_useState10[0],setTaggedRepoList=_useState10[1],_useState11=(0,react.useState)(""),taggedRepoSearchTerm=_useState11[0],setTaggedRepoSearchTerm=_useState11[1],_useState12=(0,react.useState)([]),repoTagSuggestions=_useState12[0],setRepoTagSuggestions=_useState12[1],_useState13=(0,react.useState)(!1),tagRepoSearchLoading=_useState13[0],setTagRepoSearchLoading=_useState13[1],_useState14=(0,react.useState)(""),errorMsg=_useState14[0],setError=_useState14[1],_useState15=(0,react.useState)([]),highlightSuggestions=_useState15[0],setHighlightSuggestions=_useState15[1],_useState16=(0,react.useState)(!1),loadingSuggestions=_useState16[0],setLoadingSuggestions=_useState16[1],_useState17=(0,react.useState)(!1),createPopoverOpen=_useState17[0],setCreatePopoverOpen=_useState17[1],popoverContentRef=(0,react.useRef)(null),generateSummary=(0,react.useRef)(!1),prurl=(0,next_router.useRouter)().query.prurl;(0,react.useEffect)((function(){prurl&&setHighlightLink(prurl)}),[prurl]);var fetchAllUserHighlights=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(page){var req,res,nextPage;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/users/").concat(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name,"/highlights?page=").concat(page),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 2:if(!(req=_context.sent).ok){_context.next=13;break}return _context.next=6,req.json();case 6:if(!(res=_context.sent).meta.hasNextPage){_context.next=12;break}return _context.next=10,fetchAllUserHighlights(page+1);case 10:return nextPage=_context.sent,_context.abrupt("return",[].concat((0,toConsumableArray.Z)(res.data),(0,toConsumableArray.Z)(nextPage)));case 12:return _context.abrupt("return",res.data);case 13:return _context.abrupt("return",[]);case 14:case"end":return _context.stop()}}),_callee)})));return function fetchAllUserHighlights(_x){return _ref3.apply(this,arguments)}}(),_useState18=(0,react.useState)(),date=_useState18[0],setDate=_useState18[1],toast=(0,useToast.pm)().toast,validCharLimit=function validCharLimit(){return charCount-highlightLink.length<=500},handleTextAreaInputChange=function handleTextAreaInputChange(value){setBodyText(value)},handleClickOutsidePopoverContent=function handleClickOutsidePopoverContent(e){popoverContentRef.current&&!popoverContentRef.current.contains(e.target)&&setCreatePopoverOpen(!1)};(0,react.useEffect)((function(){document.body.style.overflow=isFormOpenMobile?"hidden":"auto"}),[isFormOpenMobile]),(0,react.useEffect)((function(){return document.addEventListener("mousedown",handleClickOutsidePopoverContent),function(){document.removeEventListener("mousedown",handleClickOutsidePopoverContent)}}),[]),(0,react.useEffect)((function(){var fetchLatestIssues=function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){var req,res,issues;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("https://api.github.com/search/issues?q=author:".concat(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name,"+is:issue&sort=updated&per_page=5"),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 2:if(!(req=_context2.sent).ok){_context2.next=9;break}return _context2.next=6,req.json();case 6:return res=_context2.sent,issues=res.items.map((function(item){return{title:item.title,url:item.html_url,type:"issue",status:item.state,status_reason:item.state_reason}})),_context2.abrupt("return",issues);case 9:case"end":return _context2.stop()}}),_callee2)})));return function fetchLatestIssues(){return _ref4.apply(this,arguments)}}(),fetchLatestMergedPullRequests=function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(){var mergedReq,res,pullRequests;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,fetch("https://api.github.com/search/issues?q=author:".concat(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name,"+is:pr+is:merged&sort=updated&per_page=5"),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 2:if(!(mergedReq=_context3.sent).ok){_context3.next=9;break}return _context3.next=6,mergedReq.json();case 6:return res=_context3.sent,pullRequests=res.items.map((function(item){return{title:item.title,url:item.html_url,type:"pull_request",status:item.state,status_reason:"merged"}})),_context3.abrupt("return",pullRequests);case 9:case"end":return _context3.stop()}}),_callee3)})));return function fetchLatestMergedPullRequests(){return _ref5.apply(this,arguments)}}(),fetchLatestOpenPullRequests=function(){var _ref6=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(){var openReq,res,pullRequests;return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,fetch("https://api.github.com/search/issues?q=author:".concat(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name,"+is:pr+is:open&sort=updated&per_page=5"),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 2:if(!(openReq=_context4.sent).ok){_context4.next=9;break}return _context4.next=6,openReq.json();case 6:return res=_context4.sent,pullRequests=res.items.map((function(item){return{title:item.title,url:item.html_url,type:"pull_request",status:item.state,status_reason:"open"}})),_context4.abrupt("return",pullRequests);case 9:case"end":return _context4.stop()}}),_callee4)})));return function fetchLatestOpenPullRequests(){return _ref6.apply(this,arguments)}}(),removeAlreadyHighlightedSuggestions=function(){var _ref7=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee5(newHighlightSuggestions){var allHighlights,allHighlightUrls,filteredSuggestions;return regenerator_default().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,fetchAllUserHighlights(1);case 2:return allHighlights=_context5.sent,allHighlightUrls=allHighlights.map((function(highlight){return highlight.url})),filteredSuggestions=newHighlightSuggestions.filter((function(suggestion){return!allHighlightUrls.includes(suggestion.url)})),_context5.abrupt("return",filteredSuggestions);case 6:case"end":return _context5.stop()}}),_callee5)})));return function removeAlreadyHighlightedSuggestions(_x2){return _ref7.apply(this,arguments)}}(),fetchData=function(){var _ref8=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee6(){var issues,mergedPullRequests,openPullRequests,newHighlightSuggestions,unhighlightedSuggestions,pages,i;return regenerator_default().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,_context6.next=3,fetchLatestIssues();case 3:return issues=_context6.sent,_context6.next=6,fetchLatestMergedPullRequests();case 6:return mergedPullRequests=_context6.sent,_context6.next=9,fetchLatestOpenPullRequests();case 9:return openPullRequests=_context6.sent,newHighlightSuggestions=[].concat((0,toConsumableArray.Z)(issues),(0,toConsumableArray.Z)(mergedPullRequests),(0,toConsumableArray.Z)(openPullRequests)),_context6.next=13,removeAlreadyHighlightedSuggestions(newHighlightSuggestions);case 13:for(unhighlightedSuggestions=_context6.sent,pages=[],i=0;i<unhighlightedSuggestions.length;i+=3)pages.push(unhighlightedSuggestions.slice(i,i+3));setHighlightSuggestions(pages),setLoadingSuggestions(!1),_context6.next=23;break;case 20:_context6.prev=20,_context6.t0=_context6.catch(0),highlight_input_form_console.log(_context6.t0);case 23:case"end":return _context6.stop()}}),_callee6,null,[[0,20]])})));return function fetchData(){return _ref8.apply(this,arguments)}}();setLoadingSuggestions(!0),fetchData()}),[providerToken,loggedInUser]),(0,react.useEffect)((function(){if(highlightLink&&((0,github.qm)(highlightLink)||(0,github.o8)(highlightLink))){generateSummary.current&&(generateSummary.current=!1,handleGenerateHighlightSummary());var apiPaths=(0,github.ny)(highlightLink).apiPaths,_repoName=apiPaths.repoName,orgName=apiPaths.orgName,repoIcon=(apiPaths.issueId,(0,github.cc)(null!=orgName?orgName:"github",60));if(taggedRepoList.some((function(repo){return repo.repoName===_repoName})))return;var newRepo={repoName:_repoName,repoOwner:orgName,repoIcon:repoIcon},newTaggedRepoList=[].concat((0,toConsumableArray.Z)(taggedRepoList),[newRepo]);setTaggedRepoList(newTaggedRepoList)}}),[highlightLink]);var handleTaggedRepoAdd=function(){var _ref9=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee7(repoFullName){var _repoFullName$split,_repoFullName$split2,ownerName,repoName,repoIcon,newTaggedRepoList;return regenerator_default().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(!(taggedRepoList.length>=3)){_context7.next=3;break}return setError("You can only tag up to 3 repos!"),_context7.abrupt("return");case 3:if(!taggedRepoList.some((function(repo){return"".concat(repo.repoOwner,"/").concat(repo.repoName)===repoFullName}))){_context7.next=6;break}return setError("Repo already tagged!"),_context7.abrupt("return");case 6:return _context7.next=8,fetch("https://api.github.com/repos/".concat(repoFullName),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 8:if(_context7.sent.ok){_context7.next=12;break}return setError("Repo not found!"),_context7.abrupt("return");case 12:_repoFullName$split=repoFullName.split("/"),_repoFullName$split2=(0,slicedToArray.Z)(_repoFullName$split,2),ownerName=_repoFullName$split2[0],repoName=_repoFullName$split2[1],repoIcon=(0,github.cc)(ownerName,60),newTaggedRepoList=[].concat((0,toConsumableArray.Z)(taggedRepoList),[{repoName:repoName,repoOwner:ownerName,repoIcon:repoIcon}]),setTaggedRepoList(newTaggedRepoList);case 16:case"end":return _context7.stop()}}),_callee7)})));return function handleTaggedRepoAdd(_x3){return _ref9.apply(this,arguments)}}(),handleTaggedRepoDelete=function handleTaggedRepoDelete(repoName){var newTaggedRepoList=taggedRepoList.filter((function(repo){return repo.repoName!==repoName}));setTaggedRepoList(newTaggedRepoList)},handleGenerateHighlightSummary=function(){var _ref10=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee8(){var summary,commitMessages,_yield$getGithubIssue,issueTitle,issueBody,issueComments,_yield$getBlogDetails,blogTitle,blogMarkdown;return regenerator_default().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(highlightLink&&((0,github.qm)(highlightLink)||(0,github.o8)(highlightLink)||(0,dev_to.u)(highlightLink))){_context8.next=3;break}return setError("Please provide a valid pull request, issue or dev.to blog link!"),_context8.abrupt("return");case 3:if(setIsSummaryButtonDisabled(!0),!(0,github.qm)(highlightLink)){_context8.next=13;break}return _context8.next=7,(0,github.VV)(highlightLink);case 7:return commitMessages=_context8.sent,_context8.next=10,generatePrHighlightSummaryByCommitMsg(commitMessages);case 10:summary=_context8.sent,_context8.next=35;break;case 13:if(!(0,github.o8)(highlightLink)){_context8.next=27;break}return _context8.next=16,(0,github.ih)(highlightLink);case 16:return _yield$getGithubIssue=_context8.sent,issueTitle=_yield$getGithubIssue.title,issueBody=_yield$getGithubIssue.body,_context8.next=21,(0,github.dL)(highlightLink);case 21:return issueComments=_context8.sent,_context8.next=24,generate_issue_highlight_summary(issueTitle,issueBody,issueComments);case 24:summary=_context8.sent,_context8.next=35;break;case 27:return _context8.next=29,(0,dev_to.G)(highlightLink);case 29:return _yield$getBlogDetails=_context8.sent,blogTitle=_yield$getBlogDetails.title,blogMarkdown=_yield$getBlogDetails.markdown,_context8.next=34,generate_blog_highlight_summary(blogTitle,blogMarkdown);case 34:summary=_context8.sent;case 35:setIsSummaryButtonDisabled(!1),summary?(setBodyText(summary),setIsTyping(!0),setTimeout((function(){setIsTyping(!1)}),1e3),setCharCount(summary.length)):setError("An error occured!");case 37:case"end":return _context8.stop()}}),_callee8)})));return function handleGenerateHighlightSummary(){return _ref10.apply(this,arguments)}}(),handlePostHighlight=function(){var _ref11=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee9(e){var highlight,highlightType,res,_generateRepoParts2,apiPaths,_repoName2,orgName,issueId,taggedRepoFullNames,_res;return regenerator_default().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(e.preventDefault(),highlight=bodyText,!((0,github.qm)(highlightLink)||(0,github.o8)(highlightLink)||(0,dev_to.u)(highlightLink))){_context9.next=49;break}if(highlightType=(0,github.o8)(highlightLink)?"issue":(0,github.qm)(highlightLink)?"pull_request":"blog_post",res={},"pull_request"!==highlightType&&"issue"!==highlightType){_context9.next=21;break}if(_generateRepoParts2=(0,github.ny)(highlightLink),apiPaths=_generateRepoParts2.apiPaths,_repoName2=apiPaths.repoName,orgName=apiPaths.orgName,issueId=apiPaths.issueId,setLoading(!0),"issue"!==highlightType){_context9.next=15;break}return _context9.next=12,(0,fetchGithubIssueInfo.x)(orgName,_repoName2,issueId);case 12:_context9.t0=_context9.sent,_context9.next=18;break;case 15:return _context9.next=17,(0,fetchGithubPRInfo.U)(orgName,_repoName2,issueId);case 17:_context9.t0=_context9.sent;case 18:res=_context9.t0,_context9.next=24;break;case 21:return _context9.next=23,(0,fetchDevToBlogInfo.s)(highlightLink);case 23:res=_context9.sent;case 24:if(taggedRepoFullNames=taggedRepoList.map((function(repo){return"".concat(repo.repoOwner,"/").concat(repo.repoName)})),!(taggedRepoList.length<1)){_context9.next=28;break}return setError("Please add at least one repository associated with your blog post"),_context9.abrupt("return");case 28:if(!res.isError){_context9.next=34;break}return setLoading(!1),setError("Please provide a valid pull request, issue or dev.to blog link!"),_context9.abrupt("return");case 34:return setLoading(!0),_context9.next=37,createHighlights({highlight:highlight,url:highlightLink,shipped_at:date,type:highlightType,taggedRepos:taggedRepoFullNames});case 37:_res=_context9.sent,setLoading(!1),"string"==typeof _res&&setError(_res),refreshCallback&&refreshCallback(),setBodyText(""),setHighlightLink(""),setDate(void 0),setIsDivFocused(!1),setIsFormOpenMobile(!1),toast({description:"Highlight Posted!",title:"Success",variant:"success"});case 47:_context9.next=50;break;case 49:setError("Please provide a valid pull request, issue or dev.to blog link!");case 50:case"end":return _context9.stop()}}),_callee9)})));return function handlePostHighlight(_x4){return _ref11.apply(this,arguments)}}(),updateSuggestionsDebounced=(0,useDebounce.N)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee10(){var req,res,suggestions;return regenerator_default().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return setTagRepoSearchLoading(!0),_context10.next=3,fetch("https://api.github.com/search/repositories?q=".concat(encodeURIComponent("".concat(taggedRepoSearchTerm," in:name in:repo:owner/name sort:updated"))),highlight_input_form_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 3:if(req=_context10.sent,setTagRepoSearchLoading(!1),!req.ok){_context10.next=11;break}return _context10.next=8,req.json();case 8:res=_context10.sent,suggestions=res.items.map((function(item){return item.full_name})),setRepoTagSuggestions(suggestions);case 11:case"end":return _context10.stop()}}),_callee10)}))),250);return(0,react.useEffect)((function(){setRepoTagSuggestions([]),taggedRepoSearchTerm&&updateSuggestionsDebounced()}),[taggedRepoSearchTerm]),highlight_input_form_jsx(react.Fragment,null,highlight_input_form_jsx("div",{className:"flex flex-col flex-1 gap-4 max-sm:hidden"},highlight_input_form_jsx("div",{className:"flex flex-col gap-2 p-2 overflow-hidden text-sm bg-white border rounded-lg"},highlight_input_form_jsx("div",{className:"flex pr-2"},highlight_input_form_jsx("input",{maxLength:50,className:"flex-1 font-normal placeholder:text-sm focus:outline-none",type:"text",placeholder:"Post a highlight to show your work!",id:"highlight-create-input",onFocus:function onFocus(){return setIsDivFocused(!0)}})))),highlight_input_form_jsx(dialog.Vq,{onOpenChange:function onOpenChange(){setIsDivFocused(!1)},open:isDivFocused},highlight_input_form_jsx(dialog.cZ,{className:"p-4 w-full md:w-[40rem] xs:w-96 max-h-[80vh] overflow-y-scroll"},highlight_input_form_jsx(dialog.fK,null,highlight_input_form_jsx(dialog.$N,null,"Post a highlight")),highlight_input_form_jsx(dialog.iK,{onClick:function onClick(){return setIsDivFocused(!1)}}),highlight_input_form_jsx("form",{onSubmit:handlePostHighlight,className:"flex flex-col gap-4 font-normal"},highlight_input_form_jsx("p",{role:"alert"},errorMsg&&highlight_input_form_jsx("span",{className:"inline-flex items-center gap-2 px-2 py-1 text-red-500 bg-red-100 border border-red-500 rounded-md w-full text-sm"},highlight_input_form_jsx(md_index_esm.vVM,{size:20})," ",errorMsg)),highlight_input_form_jsx("div",{className:"flex flex-col gap-2 p-2 text-sm bg-white border rounded-lg"},highlight_input_form_jsx(TypeWriterTextArea,{className:"resize-y min-h-[80px] max-h-99 font-normal placeholder:text-slate-400 text-light-slate-12 placeholder:font-normal placeholder:text-sm transition focus:outline-none rounded-lg ".concat(isDivFocused?"":"hidden"),defaultRow:4,value:bodyText,onKeyUp:function onKeyUp(e){e.ctrlKey&&"Enter"===e.key&&handlePostHighlight(e)},placeholder:"Tell us about your highlight and add a link\n              ",typewrite:isTyping,textContent:bodyText,onChangeText:function onChangeText(value){handleTextAreaInputChange(value),setCharCount(value.length)},ref:textAreaRef}),highlight_input_form_jsx("p",{className:"flex justify-end gap-1 text-xs text-light-slate-9"},highlight_input_form_jsx("span",{className:"".concat(!validCharLimit()&&"text-red-600")},validCharLimit()?charCount:"-".concat(charCount-500)),"/ ",highlight_input_form_jsx("span",null,500))),highlight_input_form_jsx(AddRepo,{taggedRepos:taggedRepoList,deleteTaggedRepo:handleTaggedRepoDelete,showAddRepoDialog:setAddTaggedRepoFormOpen}),highlight_input_form_jsx("div",{className:"flex"},highlight_input_form_jsx("div",{className:"flex w-full gap-1 items-center"},highlight_input_form_jsx(tooltip.Z,{direction:"top",content:"Pick a date"},highlight_input_form_jsx(popover.J2,{open:createPopoverOpen},highlight_input_form_jsx(popover.xo,{asChild:!0},highlight_input_form_jsx("button",{type:"button",onClick:function onClick(){setCreatePopoverOpen(!0)},className:"flex items-center gap-2 p-2 text-base rounded-full z-10 text-light-slate-9 bg-light-slate-3 cursor-pointer"},highlight_input_form_jsx(index_esm.vlc,{className:"text-light-slate-11"}),date&&highlight_input_form_jsx("span",{className:"text-xs"},(0,format.Z)(date,"PPP")))),highlight_input_form_jsx(popover.yk,{ref:popoverContentRef,className:"w-auto p-0 bg-white pointer-events-auto"},highlight_input_form_jsx(calendar.f,{toDate:new Date,mode:"single",selected:date,onSelect:function onSelect(date){setDate(date),setCreatePopoverOpen(!1)},className:"border rounded-md"})))),highlight_input_form_jsx(tooltip.Z,{className:"text-xs",direction:"top",content:"Auto-Summarize"},highlight_input_form_jsx("button",{disabled:isSummaryButtonDisabled,type:"button",onClick:handleGenerateHighlightSummary,className:"p-2 rounded-full bg-light-slate-3 text-light-slate-11 disabled:cursor-not-allowed disabled:animate-pulse disabled:text-light-orange-9"},highlight_input_form_jsx(hi_index_esm.Moc,{className:"text-base"}))),highlight_input_form_jsx(text_input.Z,{id:"highlight-link-input",className:"text-sm shadow-none h-10 flex-none",value:highlightLink,handleChange:function handleChange(value){return setHighlightLink(value)},placeholder:"Paste the URL to your PR, Issue, or Dev.to blog post."}))),highlightLink&&isDivFocused&&highlightLink.includes("github")&&highlight_input_form_jsx(gh_open_graph_img.Z,{githubLink:highlightLink}),highlightLink&&isDivFocused&&highlightLink.includes("dev.to")&&highlight_input_form_jsx(dev_to_social_img.Z,{blogLink:highlightLink}),highlight_input_form_jsx(Button_button.Z,{loading:loading,disabled:!bodyText||!validCharLimit(),className:"ml-auto max-sm:hidden ",variant:"primary"},"Post"),highlight_input_form_jsx("h2",{className:"text-md font-semibold text-slate-900"},"Highlight suggestions",highlight_input_form_jsx("span",{className:"text-sm font-semibold text-light-slate-9 ml-2"},"Based on your latest activity")),loadingSuggestions?highlight_input_form_jsx("div",{className:"w-full"},highlight_input_form_jsx(dist.Z,{count:3,height:40,className:"w-full my-[0.5rem] mx-auto"})):highlight_input_form_jsx(swiper_react.tq,{spaceBetween:8,slidesPerView:1,className:"w-full",modules:[modules.tl,modules.s5],pagination:{clickable:!0},a11y:{enabled:!0}},null==highlightSuggestions?void 0:highlightSuggestions.map((function(suggestionPage){return highlight_input_form_jsx(swiper_react.o5,{key:suggestionPage[0].url},highlight_input_form_jsx("div",{className:"flex flex-col gap-2 overflow-hidden text-sm w-full"},suggestionPage.map((function(suggestion){return highlight_input_form_jsx("div",{key:suggestion.url,className:"flex items-center justify-between w-full gap-0.5 text-sm bg-white border rounded-lg p-2"},highlight_input_form_jsx("div",{className:"flex w-full gap-2 items-center"},"pull_request"===suggestion.type&&highlight_input_form_jsx(bi_index_esm.WE_,{className:"text-base xs:text-xl ".concat("open"===suggestion.status_reason?"text-green-600":"text-purple-600")}),"issue"===suggestion.type&&highlight_input_form_jsx(vsc_index_esm.gL2,{className:"text-base xs:text-xl ".concat("open"===suggestion.status?"text-green-600":"not_planned"===suggestion.status_reason?"text-red-600":"text-purple-600")}),highlight_input_form_jsx("p",{className:"text-light-slate-11 truncate max-w-[14rem] xs:max-w-[16rem] text-xs xs:text-sm cursor-pointer hover:text-orange-600 transition",onClick:function onClick(){window.open(suggestion.url,"_blank")}},suggestion.title)),highlight_input_form_jsx(tooltip.Z,{className:"text-xs modal-tooltip",direction:"top",content:"Fill content"},highlight_input_form_jsx("button",{type:"button",onClick:function onClick(e){e.stopPropagation(),setHighlightLink(suggestion.url)},disabled:isSummaryButtonDisabled,className:"p-2 rounded-full hover:bg-light-slate-3 text-light-slate-11 transition"},highlight_input_form_jsx(index_esm.IYd,{className:"text-base xs:text-xl"}))),highlight_input_form_jsx(tooltip.Z,{className:"text-xs modal-tooltip",direction:"top",content:"Add and Summarize"},highlight_input_form_jsx("button",{type:"button",onClick:function onClick(e){e.stopPropagation(),setHighlightLink(suggestion.url),generateSummary.current=!0},disabled:isSummaryButtonDisabled,className:"p-2 rounded-full hover:bg-light-slate-3 text-light-slate-11 transition disabled:cursor-not-allowed disabled:animate-pulse disabled:text-light-orange-9"},highlight_input_form_jsx(hi_index_esm.Moc,{className:"text-base xs:text-xl"}))))}))))})))))),highlight_input_form_jsx(dialog.Vq,{open:addTaggedRepoFormOpen,onOpenChange:setAddTaggedRepoFormOpen},highlight_input_form_jsx(dialog.cZ,{className:"w-full md:w-[30rem] xs:w-[25rem] p-4 flex flex-col gap-4"},highlight_input_form_jsx(dialog.fK,null,highlight_input_form_jsx(dialog.$N,null,"Add a repo"),highlight_input_form_jsx(dialog.Be,{className:"mt-2"},"Add a Repository to tag with this highlight.")),highlight_input_form_jsx(search.Z,{isLoading:tagRepoSearchLoading,placeholder:"Repository Full Name (ex: open-sauced/open-sauced)",className:"text-sm font-normal !w-full px-2",name:"query",suggestions:repoTagSuggestions,onChange:function onChange(value){return setTaggedRepoSearchTerm(value)},onSearch:function onSearch(search){return setTaggedRepoSearchTerm(search)}}),highlight_input_form_jsx(dialog.iK,{onClick:function onClick(){return setAddTaggedRepoFormOpen(!1)}}),highlight_input_form_jsx("div",{className:"flex justify-end gap-2"},highlight_input_form_jsx(Button_button.Z,{variant:"default",onClick:function onClick(){return setAddTaggedRepoFormOpen(!1)}},"Cancel"),highlight_input_form_jsx(Button_button.Z,{variant:"primary",onClick:function onClick(){setAddTaggedRepoFormOpen(!1),handleTaggedRepoAdd(taggedRepoSearchTerm)},disabled:!taggedRepoSearchTerm},"Add")))),isFormOpenMobile&&highlight_input_form_jsx("div",{className:"fixed left-0 right-0 z-30 h-screen py-4 transition bg-white top-24 md:hidden"},highlight_input_form_jsx("div",{className:"flex items-center justify-between w-full px-2"},highlight_input_form_jsx("button",{onClick:function onClick(){return setIsFormOpenMobile(!1)},type:"button"},highlight_input_form_jsx(io5_index_esm.bjh,{className:"text-2xl text-light-slate-10"})),highlight_input_form_jsx(Button_button.Z,{loading:loading,disabled:!bodyText||!validCharLimit(),className:"py-0.5 ",variant:"primary"},"Post")),highlight_input_form_jsx("div",{className:"flex flex-col gap-2 p-2 overflow-hidden text-sm bg-white "},highlight_input_form_jsx(TypeWriterTextArea,{className:"resize-y min-h-[80px] max-h-99 font-normal text-light-slate-11 mb-2 transition focus:outline-none rounded-lg ",defaultRow:4,value:bodyText,placeholder:" Tell us about your highlight and add a link\n            ",typewrite:isTyping,textContent:bodyText,onChangeText:function onChangeText(value){handleTextAreaInputChange(value),setCharCount(value.length)},ref:textAreaRef}),highlight_input_form_jsx("div",{className:"flex items-center justify-between w-full"},date&&highlight_input_form_jsx("span",{className:"text-xs text-light-slate-9"},(0,format.Z)(date,"PPP")),highlight_input_form_jsx("p",{className:"flex justify-end gap-1 pb-2 ml-auto text-xs text-light-slate-9"},highlight_input_form_jsx("span",{className:"".concat(!validCharLimit()&&"text-red-600")},validCharLimit()?charCount:"-".concat(charCount-500)),"/ ",highlight_input_form_jsx("span",null,500))),highlight_input_form_jsx(AddRepo,{taggedRepos:taggedRepoList,deleteTaggedRepo:handleTaggedRepoDelete,showAddRepoDialog:setAddTaggedRepoFormOpen}),highlight_input_form_jsx("div",{className:"flex"},highlight_input_form_jsx("div",{className:"flex w-full gap-1"},highlight_input_form_jsx(tooltip.Z,{direction:"top",content:"Pick a date"},highlight_input_form_jsx(popover.J2,null,highlight_input_form_jsx(popover.xo,{asChild:!0},highlight_input_form_jsx("button",{className:"flex items-center gap-2 p-2 text-base rounded-full text-light-slate-9 bg-light-slate-3"},highlight_input_form_jsx(index_esm.vlc,{className:"text-light-slate-11"}))),highlight_input_form_jsx(popover.yk,{ref:popoverContentRef,className:"w-auto p-0 bg-white"},highlight_input_form_jsx(calendar.f,{toDate:new Date,mode:"single",selected:date,onSelect:setDate,className:"border rounded-md"})))),highlight_input_form_jsx(tooltip.Z,{className:"text-xs",direction:"top",content:"Auto-Summarize"},highlight_input_form_jsx("button",{disabled:isSummaryButtonDisabled,type:"button",onClick:handleGenerateHighlightSummary,className:"p-2 rounded-full bg-light-slate-3 text-light-slate-11 disabled:cursor-not-allowed disabled:animate-pulse disabled:text-light-orange-9"},highlight_input_form_jsx(hi_index_esm.Moc,{className:"text-base"}))),highlight_input_form_jsx(text_input.Z,{className:"text-xs",value:highlightLink,handleChange:function handleChange(value){return setHighlightLink(value)},placeholder:"Paste your PR URL and get it auto-summarized!"}))),highlight_input_form_jsx("h2",{className:"text-md font-semibold text-slate-900 my-2"},"Highlight suggestions"),highlight_input_form_jsx(swiper_react.tq,{spaceBetween:8,slidesPerView:1,className:"max-w-full",modules:[modules.tl,modules.s5],pagination:{clickable:!0},a11y:{enabled:!0}},null==highlightSuggestions?void 0:highlightSuggestions.map((function(suggestionPage){return highlight_input_form_jsx(swiper_react.o5,{key:suggestionPage[0].url},highlight_input_form_jsx("div",{className:"flex flex-col gap-2 overflow-hidden text-sm w-full"},suggestionPage.map((function(suggestion){return highlight_input_form_jsx("div",{key:suggestion.url,className:"flex items-center justify-between w-full text-sm bg-white border rounded-lg p-2"},highlight_input_form_jsx("div",{className:"flex w-full gap-2 items-center"},"pull_request"===suggestion.type&&highlight_input_form_jsx(bi_index_esm.WE_,{className:"\n                                text-base xs:text-xl\n                                  ".concat("open"===suggestion.status_reason?"text-green-600":"text-purple-600","\n                                  ")}),"issue"===suggestion.type&&highlight_input_form_jsx(vsc_index_esm.gL2,{className:"\n                                text-base xs:text-xl\n                                  ".concat("open"===suggestion.status?"text-green-600":"not_planned"===suggestion.status_reason?"text-red-600":"text-purple-600","\n                    ")}),highlight_input_form_jsx("p",{className:"text-light-slate-11 truncate max-w-[14rem] xs:max-w-[16rem] text-xs xs:text-sm"},suggestion.title)),highlight_input_form_jsx(tooltip.Z,{className:"text-xs modal-tooltip",direction:"top",content:"Fill content"},highlight_input_form_jsx("button",{type:"button",onClick:function onClick(e){e.stopPropagation(),setHighlightLink(suggestion.url)},disabled:isSummaryButtonDisabled,className:"p-2 rounded-full hover:bg-light-slate-3 text-light-slate-11 transition"},highlight_input_form_jsx(index_esm.IYd,{className:"text-base xs:text-xl"}))),highlight_input_form_jsx(tooltip.Z,{className:"text-xs modal-tooltip",direction:"top",content:"Add and Summarize"},highlight_input_form_jsx("button",{type:"button",onClick:function onClick(e){e.stopPropagation(),setHighlightLink(suggestion.url),generateSummary.current=!0},disabled:isSummaryButtonDisabled,className:"p-2 rounded-full hover:bg-light-slate-3 text-light-slate-11 transition disabled:cursor-not-allowed disabled:animate-pulse disabled:text-light-orange-9"},highlight_input_form_jsx(hi_index_esm.Moc,{className:"text-base"}))))}))))}))))),highlight_input_form_jsx(fab.Z,{className:"md:hidden"},highlight_input_form_jsx("div",{onClick:function onClick(){return setIsFormOpenMobile(!0)},className:"p-3 mb-10 -mr-4 text-white rounded-full shadow-lg bg-light-orange-10",id:"mobile-highlight-create-button"},highlight_input_form_jsx(rx_index_esm.D1o,{className:"text-3xl"}))))};HighlightInputForm.__docgenInfo={description:"",methods:[],displayName:"HighlightInputForm",props:{refreshCallback:{required:!1,tsType:{name:"Function"},description:""}}};var highlight_input_form=HighlightInputForm;try{highlightinputform.displayName="highlightinputform",highlightinputform.__docgenInfo={description:"",displayName:"highlightinputform",props:{refreshCallback:{defaultValue:null,description:"",name:"refreshCallback",required:!1,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/HighlightInput/highlight-input-form.tsx#highlightinputform"]={docgenInfo:highlightinputform.__docgenInfo,name:"highlightinputform",path:"components/molecules/HighlightInput/highlight-input-form.tsx#highlightinputform"})}catch(__react_docgen_typescript_loader_error){}},"data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA":function(module){module.exports="data:application/font-woff;charset=utf-8;base64, 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"}}]);