"use strict";(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[5162],{"./components/atoms/Dropdown/dropdown.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$F:function(){return DropdownMenuTrigger},AW:function(){return DropdownMenuContent},Xi:function(){return DropdownMenuItem},h_:function(){return DropdownMenu}});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_excluded=["className","sideOffset"],_excluded2=["className","inset"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,DropdownMenu=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.fC,DropdownMenuTrigger=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.xz,DropdownMenuContent=(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.Uv,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,_ref$sideOffset=_ref.sideOffset,sideOffset=void 0===_ref$sideOffset?4:_ref$sideOffset,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded);return __jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.Uv,null,__jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.VY,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref:ref,sideOffset:sideOffset,className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)("z-50 min-w-[8rem] overflow-hidden rounded-lg border border-slate-100 bg-white p-1 text-slate-700 shadow-md animate-in data-[side=right]:slide-in-from-left-2 data-[side=left]:slide-in-from-right-2 data-[side=bottom]:slide-in-from-top-2 data-[side=top]:slide-in-from-bottom-2 ",className)},props)))})));DropdownMenuContent.displayName=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.VY.displayName;var DropdownMenuItem=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref2,ref){var className=_ref2.className,inset=_ref2.inset,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref2,_excluded2);return __jsx(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.ck,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({ref:ref,className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)("relative flex cursor-default select-none items-center py-1.5 px-2 text-sm font-medium focus:text-sauced-orange outline-none focus:bg-orange-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ",inset&&"pl-8",className)},props))}));DropdownMenuItem.displayName=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_1__.ck.displayName,DropdownMenuItem.__docgenInfo={description:"",methods:[]},DropdownMenuContent.__docgenInfo={description:"",methods:[],props:{sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};try{DropdownMenu.displayName="DropdownMenu",DropdownMenu.__docgenInfo={description:"",displayName:"DropdownMenu",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenu"]={docgenInfo:DropdownMenu.__docgenInfo,name:"DropdownMenu",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenu"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuItem.displayName="DropdownMenuItem",DropdownMenuItem.__docgenInfo={description:"",displayName:"DropdownMenuItem",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},inset:{defaultValue:null,description:"",name:"inset",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuItem"]={docgenInfo:DropdownMenuItem.__docgenInfo,name:"DropdownMenuItem",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuItem"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuContent.displayName="DropdownMenuContent",DropdownMenuContent.__docgenInfo={description:"",displayName:"DropdownMenuContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuContent"]={docgenInfo:DropdownMenuContent.__docgenInfo,name:"DropdownMenuContent",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuContent"})}catch(__react_docgen_typescript_loader_error){}try{DropdownMenuTrigger.displayName="DropdownMenuTrigger",DropdownMenuTrigger.__docgenInfo={description:"",displayName:"DropdownMenuTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Dropdown/dropdown.tsx#DropdownMenuTrigger"]={docgenInfo:DropdownMenuTrigger.__docgenInfo,name:"DropdownMenuTrigger",path:"components/atoms/Dropdown/dropdown.tsx#DropdownMenuTrigger"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Textarea/text-area.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return Textarea}});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_excluded=["className","onChangeText"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Textarea=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(_ref,ref){var className=_ref.className,onChangeText=_ref.onChangeText,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,_excluded),textareaRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return __jsx("textarea",(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({onChange:function handleInputChange(event){null==onChangeText||onChangeText(event.target.value),function autoGrowTextarea(){var textarea=textareaRef.current;textarea&&(textarea.style.height="auto",textarea.style.height="".concat(textarea.scrollHeight,"px"))}()},className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("flex h-20 md:min-h-26 md:h-auto w-full rounded-md  py-2  text-sm placeholder:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50",className),ref:textareaRef},props))}));Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",methods:[],displayName:"Textarea"};try{Textarea.displayName="Textarea",Textarea.__docgenInfo={description:"",displayName:"Textarea",props:{defaultRow:{defaultValue:null,description:"",name:"defaultRow",required:!1,type:{name:"number"}},onChangeText:{defaultValue:null,description:"",name:"onChangeText",required:!1,type:{name:"((value: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Textarea/text-area.tsx#Textarea"]={docgenInfo:Textarea.__docgenInfo,name:"Textarea",path:"components/atoms/Textarea/text-area.tsx#Textarea"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/Typography/title.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/Typography/wrapper.tsx"),_excluded=["children","level","weight","className"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,Title=function Title(_ref){var children=_ref.children,_ref$level=_ref.level,level=void 0===_ref$level?1:_ref$level,_ref$weight=_ref.weight,weight=void 0===_ref$weight?"medium":_ref$weight,className=_ref.className,props=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_ref,_excluded),TitleTag="h".concat(level);return __jsx(_wrapper__WEBPACK_IMPORTED_MODULE_1__.Z,null,__jsx(TitleTag,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)(className,"font-".concat(weight))},props),children))};Title.displayName="Title",Title.__docgenInfo={description:"",methods:[],displayName:"Title",props:{level:{defaultValue:{value:"1",computed:!1},required:!1},weight:{defaultValue:{value:'"medium"',computed:!1},required:!1}}},__webpack_exports__.Z=Title;try{title.displayName="title",title.__docgenInfo={description:"",displayName:"title",props:{level:{defaultValue:{value:"1"},description:"",name:"level",required:!1,type:{name:"enum",value:[{value:"2"},{value:"1"},{value:"5"},{value:"3"},{value:"4"}]}},weight:{defaultValue:{value:"medium"},description:"",name:"weight",required:!1,type:{name:"enum",value:[{value:'"bold"'},{value:'"thin"'},{value:'"extralight"'},{value:'"light"'},{value:'"normal"'},{value:'"medium"'},{value:'"semibold"'},{value:'"extrabold"'},{value:'"black"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Typography/title.tsx#title"]={docgenInfo:title.__docgenInfo,name:"title",path:"components/atoms/Typography/title.tsx#title"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/ContributorHighlight/contributor-highlight-card.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return contributor_highlight_card}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),tfi_index_esm=__webpack_require__("./node_modules/react-icons/tfi/index.esm.js"),fi_index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),bs_index_esm=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),fa6_index_esm=__webpack_require__("./node_modules/react-icons/fa6/index.esm.js"),gr_index_esm=__webpack_require__("./node_modules/react-icons/gr/index.esm.js"),lib=__webpack_require__("./node_modules/react-emoji-render/lib/index.js"),esm=__webpack_require__("./node_modules/posthog-js/react/dist/esm/index.js"),md_index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),fa_index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),bi_index_esm=__webpack_require__("./node_modules/react-icons/bi/index.esm.js"),vsc_index_esm=__webpack_require__("./node_modules/react-icons/vsc/index.esm.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),useDebounce=__webpack_require__("./node_modules/rooks/dist/esm/hooks/useDebounce.js"),text_area=__webpack_require__("./components/atoms/Textarea/text-area.tsx"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),dropdown=__webpack_require__("./components/atoms/Dropdown/dropdown.tsx"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),github=__webpack_require__("./lib/utils/github.ts"),fetchGithubPRInfo=__webpack_require__("./lib/hooks/fetchGithubPRInfo.ts"),supabase=__webpack_require__("./lib/utils/supabase.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var updateHighlights=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(data,id){var _sessionResponse$data,sessionResponse,sessionToken,res;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,_context.prev=4,_context.next=7,fetch("".concat("https://beta.api.opensauced.pizza/v1","/user/highlights/").concat(id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)},method:"PATCH",body:JSON.stringify(_objectSpread({},data))});case 7:if((res=_context.sent).ok){_context.next=10;break}return _context.abrupt("return",!1);case 10:return _context.abrupt("return",res.json());case 13:return _context.prev=13,_context.t0=_context.catch(4),console.log(_context.t0),_context.abrupt("return",!1);case 17:case"end":return _context.stop()}}),_callee,null,[[4,13]])})));return function updateHighlights(_x,_x2){return _ref.apply(this,arguments)}}(),deleteHighlight_console=__webpack_require__("./node_modules/console-browserify/index.js"),deleteHighlight=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(id){var _sessionResponse$data,sessionResponse,sessionToken,res,error;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,supabase.O.auth.getSession();case 2:return sessionResponse=_context.sent,sessionToken=null==sessionResponse||null===(_sessionResponse$data=sessionResponse.data.session)||void 0===_sessionResponse$data?void 0:_sessionResponse$data.access_token,_context.prev=4,_context.next=7,fetch("".concat("https://beta.api.opensauced.pizza/v1","/user/highlights/").concat(id),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)},method:"DELETE"});case 7:if(!(res=_context.sent).ok){_context.next=12;break}return _context.abrupt("return",!0);case 12:return(error=new Error("HttpError")).message="".concat(res.status," ").concat(res.statusText),_context.t0=JSON,_context.next=17,res.json();case 17:throw _context.t1=_context.sent,error.stack=_context.t0.stringify.call(_context.t0,_context.t1),error;case 20:_context.next=26;break;case 22:return _context.prev=22,_context.t2=_context.catch(4),deleteHighlight_console.log(_context.t2),_context.abrupt("return",!1);case 26:case"end":return _context.stop()}}),_callee,null,[[4,22]])})));return function deleteHighlight(_x){return _ref.apply(this,arguments)}}(),useToast=__webpack_require__("./lib/hooks/useToast.ts"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),hooks_useHighlightReactions=function useHighlightReactions(id){var _useSWR=(0,dist.ZP)("highlights/".concat(id,"/reactions"),public_api_fetcher.Z),data=_useSWR.data,error=_useSWR.error;return{data:null!=data?data:[],isError:!!error,isLoading:!error&&!data,mutate:_useSWR.mutate}},useUserHighlightReactions_console=__webpack_require__("./node_modules/console-browserify/index.js"),hooks_useUserHighlightReactions=function useUserHighlightReactions(id){var sessionToken=(0,useSupabaseAuth.Z)().sessionToken,_useSWR=(0,dist.ZP)(id?"user/highlights/".concat(id,"/reactions"):null,public_api_fetcher.Z),data=_useSWR.data,error=_useSWR.error,mutate=_useSWR.mutate,addReaction=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(emojiId){var req;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/user/highlights/").concat(id,"/reactions/").concat(emojiId),{method:"POST",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((function(err){return useUserHighlightReactions_console.log(err)}));case 2:(req=_context.sent)&&req.ok&&mutate();case 4:case"end":return _context.stop()}}),_callee)})));return function addReaction(_x){return _ref.apply(this,arguments)}}(),deleteReaction=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(emojiId){var req;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/user/highlights/").concat(id,"/reactions/").concat(emojiId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((function(err){return useUserHighlightReactions_console.log(err)}));case 2:(req=_context2.sent)&&req.ok&&mutate();case 4:case"end":return _context2.stop()}}),_callee2)})));return function deleteReaction(_x2){return _ref2.apply(this,arguments)}}();return{data:null!=data?data:[],isError:!!error,isLoading:!error&&!data,mutate:mutate,addReaction:addReaction,deleteReaction:deleteReaction}},tooltip=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),useFollowUser=__webpack_require__("./lib/hooks/useFollowUser.ts"),fetchGithubIssueInfo=__webpack_require__("./lib/hooks/fetchGithubIssueInfo.ts"),dev_to=__webpack_require__("./lib/utils/dev-to.ts"),fetchDevToBlogInfo=__webpack_require__("./lib/hooks/fetchDevToBlogInfo.ts"),search=__webpack_require__("./components/atoms/Search/search.tsx"),Typography_title=__webpack_require__("./components/atoms/Typography/title.tsx"),gh_open_graph_img=__webpack_require__("./components/molecules/GhOpenGraphImg/gh-open-graph-img.tsx"),dialog=__webpack_require__("./components/molecules/Dialog/dialog.tsx"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),index_module=__webpack_require__("./node_modules/@radix-ui/react-alert-dialog/dist/index.module.js"),_excluded=["className","children"],_excluded2=["className","children"],_excluded3=["className"],_excluded4=["className"],_excluded5=["className"],_excluded6=["className"],_excluded7=["className"],_excluded8=["className"],_excluded9=["className"],__jsx=react.createElement,AlertDialog=index_module.fC,AlertDialogTrigger=index_module.xz,AlertDialogPortal=function AlertDialogPortal(_ref){var className=_ref.className,children=_ref.children,props=(0,objectWithoutProperties.Z)(_ref,_excluded);return __jsx(index_module.h_,(0,esm_extends.Z)({className:(0,clsx_m.Z)(className)},props),__jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center"},children))};AlertDialogPortal.displayName="AlertDialogPortal",AlertDialogPortal.displayName=index_module.h_.displayName;var AlertDialogOverlay=react.forwardRef((function(_ref2,ref){var className=_ref2.className,props=(_ref2.children,(0,objectWithoutProperties.Z)(_ref2,_excluded2));return __jsx(index_module.aV,(0,esm_extends.Z)({className:(0,clsx_m.Z)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm transition-opacity animate-in fade-in",className)},props,{ref:ref}))}));AlertDialogOverlay.displayName=index_module.aV.displayName;var AlertDialogContent=react.forwardRef((function(_ref3,ref){var className=_ref3.className,props=(0,objectWithoutProperties.Z)(_ref3,_excluded3);return __jsx(AlertDialogPortal,null,__jsx(AlertDialogOverlay,null),__jsx(index_module.VY,(0,esm_extends.Z)({ref:ref,className:(0,clsx_m.Z)("fixed z-50 grid w-full max-w-lg scale-100 gap-4 bg-white p-6 opacity-100 animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full","",className)},props)))}));AlertDialogContent.displayName=index_module.VY.displayName;var AlertDialogHeader=function AlertDialogHeader(_ref4){var className=_ref4.className,props=(0,objectWithoutProperties.Z)(_ref4,_excluded4);return __jsx("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)("flex flex-col space-y-2 text-center sm:text-left",className)},props))};AlertDialogHeader.displayName="AlertDialogHeader",AlertDialogHeader.displayName="AlertDialogHeader";var AlertDialogFooter=function AlertDialogFooter(_ref5){var className=_ref5.className,props=(0,objectWithoutProperties.Z)(_ref5,_excluded5);return __jsx("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className)},props))};AlertDialogFooter.displayName="AlertDialogFooter",AlertDialogFooter.displayName="AlertDialogFooter";var AlertDialogTitle=react.forwardRef((function(_ref6,ref){var className=_ref6.className,props=(0,objectWithoutProperties.Z)(_ref6,_excluded6);return __jsx(index_module.Dx,(0,esm_extends.Z)({ref:ref,className:(0,clsx_m.Z)("text-lg font-semibold text-slate-900",className)},props))}));AlertDialogTitle.displayName=index_module.Dx.displayName;var AlertDialogDescription=react.forwardRef((function(_ref7,ref){var className=_ref7.className,props=(0,objectWithoutProperties.Z)(_ref7,_excluded7);return __jsx(index_module.dk,(0,esm_extends.Z)({ref:ref,className:(0,clsx_m.Z)("text-sm text-slate-500","dark:text-slate-400",className)},props))}));AlertDialogDescription.displayName=index_module.dk.displayName;var AlertDialogAction=react.forwardRef((function(_ref8,ref){var className=_ref8.className,props=(0,objectWithoutProperties.Z)(_ref8,_excluded8);return __jsx(index_module.aU,(0,esm_extends.Z)({ref:ref,className:(0,clsx_m.Z)("inline-flex h-10 items-center justify-center rounded-md  py-2 px-4 text-sm font-semibold  transition-colors  disabled:cursor-not-allowed disabled:opacity-50 ",className)},props))}));AlertDialogAction.displayName=index_module.aU.displayName;var AlertDialogCancel=react.forwardRef((function(_ref9,ref){var className=_ref9.className,props=(0,objectWithoutProperties.Z)(_ref9,_excluded9);return __jsx(index_module.$j,(0,esm_extends.Z)({ref:ref,className:(0,clsx_m.Z)("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-slate-200 bg-transparent py-2 px-4 text-sm font-semibold text-slate-900 transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:mt-0",className)},props))}));AlertDialogCancel.displayName=index_module.$j.displayName,AlertDialogContent.__docgenInfo={description:"",methods:[]},AlertDialogHeader.__docgenInfo={description:"",methods:[],displayName:"AlertDialogHeader"},AlertDialogFooter.__docgenInfo={description:"",methods:[],displayName:"AlertDialogFooter"},AlertDialogTitle.__docgenInfo={description:"",methods:[]},AlertDialogDescription.__docgenInfo={description:"",methods:[]},AlertDialogAction.__docgenInfo={description:"",methods:[]},AlertDialogCancel.__docgenInfo={description:"",methods:[]};try{AlertDialogHeader.displayName="AlertDialogHeader",AlertDialogHeader.__docgenInfo={description:"",displayName:"AlertDialogHeader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/AlertDialog/alert-dialog.tsx#AlertDialogHeader"]={docgenInfo:AlertDialogHeader.__docgenInfo,name:"AlertDialogHeader",path:"components/molecules/AlertDialog/alert-dialog.tsx#AlertDialogHeader"})}catch(__react_docgen_typescript_loader_error){}var popover=__webpack_require__("./components/molecules/Popover/popover.tsx"),calendar=__webpack_require__("./components/molecules/Calendar/calendar.tsx"),card_repo_list=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),dev_to_social_img=__webpack_require__("./components/molecules/DevToSocialImage/dev-to-social-img.tsx"),contributor_highlight_card_console=__webpack_require__("./node_modules/console-browserify/index.js"),contributor_highlight_card_jsx=react.createElement;function contributor_highlight_card_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function contributor_highlight_card_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?contributor_highlight_card_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):contributor_highlight_card_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var ContributorHighlightCard=function ContributorHighlightCard(_ref){var _highlight$desc,_loggedInUser$user_me,title=_ref.title,desc=_ref.desc,highlightLink=_ref.highlightLink,user=_ref.user,id=_ref.id,refreshCallBack=_ref.refreshCallBack,emojis=_ref.emojis,_ref$type=_ref.type,type=void 0===_ref$type?"pull_request":_ref$type,shipped_date=_ref.shipped_date,taggedRepos=_ref.taggedRepos,toast=(0,useToast.pm)().toast,formattedTaggedRepos=(taggedRepos||[]).map((function(repo){var _repo$split=repo.split("/"),_repo$split2=(0,slicedToArray.Z)(_repo$split,2),repoOwner=_repo$split2[0];return{repoName:_repo$split2[1],repoOwner:repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}})),twitterTweet="".concat(title||"Open Source Highlight"," - OpenSauced from ").concat(user),reportSubject="Reported Highlight ".concat(user,": ").concat(title),_useState=(0,react.useState)({title:title,desc:desc,highlightLink:highlightLink}),highlight=_useState[0],setHighlight=_useState[1],_useState2=(0,react.useState)((null===(_highlight$desc=highlight.desc)||void 0===_highlight$desc?void 0:_highlight$desc.length)||0),wordCount=_useState2[0],setWordCount=_useState2[1],_useState3=(0,react.useState)(""),errorMsg=_useState3[0],setError=_useState3[1],_useState4=(0,react.useState)(!1),loading=_useState4[0],setLoading=_useState4[1],_useSupabaseAuth=(0,useSupabaseAuth.Z)(),loggedInUser=_useSupabaseAuth.user,sessionToken=_useSupabaseAuth.sessionToken,signIn=_useSupabaseAuth.signIn,providerToken=_useSupabaseAuth.providerToken,_useState5=(0,react.useState)(!1),openEdit=_useState5[0],setOpenEdit=_useState5[1],_useState6=(0,react.useState)(!1),alertOpen=_useState6[0],setAlertOpen=_useState6[1],_useState7=(0,react.useState)(!1),deleteLoading=_useState7[0],setDeleteLoading=_useState7[1],_useState8=(0,react.useState)(formattedTaggedRepos),taggedRepoList=_useState8[0],setTaggedRepoList=_useState8[1],_useState9=(0,react.useState)(""),taggedRepoSearchTerm=_useState9[0],setTaggedRepoSearchTerm=_useState9[1],_useState10=(0,react.useState)([]),repoTagSuggestions=_useState10[0],setRepoTagSuggestions=_useState10[1],_useState11=(0,react.useState)(!1),tagRepoSearchLoading=_useState11[0],setTagRepoSearchLoading=_useState11[1],_useState12=(0,react.useState)(!1),addTaggedRepoFormOpen=_useState12[0],setAddTaggedRepoFormOpen=_useState12[1],_useState13=(0,react.useState)(""),host=_useState13[0],setHost=_useState13[1],_useState14=(0,react.useState)(!1),dropdownOpen=_useState14[0],setDropdownOpen=_useState14[1],_useFollowUser=(0,useFollowUser.Z)(dropdownOpen&&(null==loggedInUser?void 0:loggedInUser.user_metadata.user_name)!==user?user:""),follow=_useFollowUser.follow,unFollow=_useFollowUser.unFollow,isError=_useFollowUser.isError,_useState15=(0,react.useState)(!1),popoverOpen=_useState15[0],setPopoverOpen=_useState15[1],popoverContentRef=react.useRef(null),dropdownRef=react.useRef(null),_useState16=(0,react.useState)(shipped_date?new Date(shipped_date):void 0),date=_useState16[0],setDate=_useState16[1],_useHighlightReaction=hooks_useHighlightReactions(id),reactions=_useHighlightReaction.data,mutate=_useHighlightReaction.mutate,_useUserHighlightReac=hooks_useUserHighlightReactions(sessionToken?id:""),userReaction=_useUserHighlightReac.data,deleteReaction=_useUserHighlightReac.deleteReaction,addReaction=_useUserHighlightReac.addReaction,posthog=(0,esm.U0)();(0,react.useEffect)((function(){openEdit||setTimeout((function(){document.body.setAttribute("style","pointer-events:auto !important")}),1)}),[openEdit]),(0,react.useEffect)((function(){if(highlight.highlightLink&&((0,github.qm)(highlight.highlightLink)||(0,github.o8)(highlight.highlightLink))){var apiPaths=(0,github.ny)(highlight.highlightLink).apiPaths,repoName=apiPaths.repoName,orgName=apiPaths.orgName,repoIcon=(apiPaths.issueId,(0,github.cc)(null!=orgName?orgName:"github",60));if(taggedRepoList.some((function(repo){return repo.repoName===repoName})))return;var newRepo={repoName:repoName,repoOwner:orgName,repoIcon:repoIcon},newTaggedRepoList=[].concat((0,toConsumableArray.Z)(taggedRepoList),[newRepo]);setTaggedRepoList(newTaggedRepoList)}}),[highlight.highlightLink]),(0,react.useEffect)((function(){setDate(shipped_date?new Date(shipped_date):void 0)}),[shipped_date]);var isUserReaction=function isUserReaction(id){return!!(sessionToken&&userReaction.find((function(reaction){return reaction.emoji_id===id})))},handleClickOutsidePopoverContent=function handleClickOutsidePopoverContent(e){popoverContentRef.current&&!popoverContentRef.current.contains(e.target)&&setPopoverOpen(!1)},handleClickOutsideDropdownContent=function handleClickOutsideDropdownContent(e){dropdownRef.current&&!dropdownRef.current.contains(e.target)&&setDropdownOpen(!1)};(0,react.useEffect)((function(){return document.addEventListener("mousedown",handleClickOutsidePopoverContent),function(){document.removeEventListener("mousedown",handleClickOutsidePopoverContent)}}),[popoverOpen]),(0,react.useEffect)((function(){return document.addEventListener("mousedown",handleClickOutsideDropdownContent),function(){document.removeEventListener("mousedown",handleClickOutsideDropdownContent)}}),[dropdownOpen]);var getEmojiReactors=function getEmojiReactors(reaction_users){return Array.isArray(reaction_users)?reaction_users.length>3?"".concat(reaction_users.slice(0,3).join(", ")," and ").concat(reaction_users.length-3," others"):3==reaction_users.length?"".concat(reaction_users.slice(0,2).join(", ")," and ").concat(reaction_users[2]):2==reaction_users.length?"".concat(reaction_users[0]," and ").concat(reaction_users[1]):1===reaction_users.length?"".concat(reaction_users[0]):void 0:""},getEmojiNameById=function getEmojiNameById(id){return emojis&&emojis.length>0?emojis.filter((function(emoji){return emoji.id===id}))[0].name:""},handleUpdateReaction=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(id){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!isUserReaction(id)){_context.next=6;break}return _context.next=3,deleteReaction(id);case 3:mutate(),_context.next=9;break;case 6:return _context.next=8,addReaction(id);case 8:mutate();case 9:case"end":return _context.stop()}}),_callee)})));return function handleUpdateReaction(_x){return _ref2.apply(this,arguments)}}(),handleCaptureClickDetailsForAnalytics=function handleCaptureClickDetailsForAnalytics(medium){var text;text="linkedin"===medium?"highlight shared to linkedin":"twitter"===medium?"higlight tweeted":"highlight copied",posthog.capture("clicked: ".concat(text))},handleCopyToClipboard=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(content){var url;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=new URL(content).toString(),handleCaptureClickDetailsForAnalytics("link"),_context2.prev=2,_context2.next=5,navigator.clipboard.writeText(url);case 5:toast({description:"Copied to clipboard",variant:"success"}),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(2),contributor_highlight_card_console.log(_context2.t0);case 11:case"end":return _context2.stop()}}),_callee2,null,[[2,8]])})));return function handleCopyToClipboard(_x2){return _ref3.apply(this,arguments)}}(),repos=[];if(taggedRepos&&0!==taggedRepos.length)repos=taggedRepos.map((function(repo){var _repo$split3=repo.split("/"),_repo$split4=(0,slicedToArray.Z)(_repo$split3,2),repoOwner=_repo$split4[0];return{repoName:_repo$split4[1],repoOwner:repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}}));else{var _getOwnerAndRepoNameF=(0,github.Ty)(highlightLink),repoOwner=_getOwnerAndRepoNameF.owner;repos=[{repoName:_getOwnerAndRepoNameF.repoName,repoOwner:repoOwner,repoIcon:(0,github.cc)(repoOwner,60)}]}var getHighlightTypePreset=function getHighlightTypePreset(type){switch(type){case"pull_request":return{text:"Pull request",icon:contributor_highlight_card_jsx(bi_index_esm.XeX,{className:"text-md md:text-lg"})};case"blog_post":return{text:"Blog post",icon:contributor_highlight_card_jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6"},contributor_highlight_card_jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}))};case"issue":return{text:"Issue",icon:contributor_highlight_card_jsx(vsc_index_esm.gL2,{className:"text-lg md:text-xl"})};default:return{text:"Pull request",icon:contributor_highlight_card_jsx(bi_index_esm.XeX,{className:"text-lg md:text-xl"})}}},_getHighlightTypePres=getHighlightTypePreset(type),icon=_getHighlightTypePres.icon,taggedRepoFullNames=(_getHighlightTypePres.text,taggedRepoList.map((function(repo){return"".concat(repo.repoOwner,"/").concat(repo.repoName)}))),handleUpdateHighlight=function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(e){var highlightLink,_generateRepoParts2,apiPaths,_repoName,orgName,issueId,res,isIssue,highlightType,_res;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(e.preventDefault(),highlightLink=highlight.highlightLink.trim(),!(wordCount>500)){_context3.next=5;break}return setError("Character limit exceeded"),_context3.abrupt("return");case 5:if(!((0,github.qm)(highlightLink)||(0,github.o8)(highlightLink)||(0,dev_to.u)(highlightLink))){_context3.next=41;break}if(_generateRepoParts2=(0,github.ny)(highlight.highlightLink),apiPaths=_generateRepoParts2.apiPaths,_repoName=apiPaths.repoName,orgName=apiPaths.orgName,issueId=apiPaths.issueId,setLoading(!0),res={},isIssue=(0,github.o8)(highlightLink),"issue"!==(highlightType=(0,github.o8)(highlightLink)?"issue":(0,github.qm)(highlightLink)?"pull_request":"blog_post")&&"pull_request"!==highlightType){_context3.next=25;break}if(!isIssue){_context3.next=19;break}return _context3.next=16,(0,fetchGithubIssueInfo.x)(orgName,_repoName,issueId);case 16:_context3.t0=_context3.sent,_context3.next=22;break;case 19:return _context3.next=21,(0,fetchGithubPRInfo.U)(orgName,_repoName,issueId);case 21:_context3.t0=_context3.sent;case 22:res=_context3.t0,_context3.next=28;break;case 25:return _context3.next=27,(0,fetchDevToBlogInfo.s)(highlightLink);case 27:res=_context3.sent;case 28:if(!res.isError){_context3.next=34;break}return setLoading(!1),setError("A valid Pull request, Issue or dev.to Blog Link is required"),_context3.abrupt("return");case 34:return _context3.next=36,updateHighlights({url:highlight.highlightLink,highlight:highlight.desc||"",title:highlight.title,shipped_at:date,type:highlightType,taggedRepos:taggedRepoFullNames||[]},id);case 36:_res=_context3.sent,setLoading(!1),_res?(toast({description:"Highlights Updated Successfully",variant:"success"}),setDate(void 0),refreshCallBack&&refreshCallBack(),setOpenEdit(!1)):(setLoading(!1),setError("An error occurred while updating!"));case 39:_context3.next=42;break;case 41:setError("Please provide a valid GitHub issue or pull request url");case 42:case"end":return _context3.stop()}}),_callee3)})));return function handleUpdateHighlight(_x3){return _ref4.apply(this,arguments)}}(),handleDeleteHighlight=function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(){var res;return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return setDeleteLoading(!0),_context4.next=3,deleteHighlight(id);case 3:res=_context4.sent,setDeleteLoading(!1),!1!==res?(toast({description:"Highlights deleted Successfully",variant:"success"}),refreshCallBack&&refreshCallBack(),setAlertOpen(!1),setOpenEdit(!1),setTimeout((function(){document.body.setAttribute("style","pointer-events:auto !important")}),1)):(contributor_highlight_card_console.error(res),setAlertOpen(!1),toast({description:"An error occured!",variant:"danger"}));case 6:case"end":return _context4.stop()}}),_callee4)})));return function handleDeleteHighlight(){return _ref5.apply(this,arguments)}}(),handleTaggedRepoAdd=function(){var _ref6=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee5(repoFullName){var _repoFullName$split,_repoFullName$split2,ownerName,_repoName2,_repoIcon,newTaggedRepoList;return regenerator_default().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!(taggedRepoList.length>=3)){_context5.next=3;break}return setError("You can only tag up to 3 repos!"),_context5.abrupt("return");case 3:if(!taggedRepoList.some((function(repo){return"".concat(repo.repoOwner,"/").concat(repo.repoName)===repoFullName}))){_context5.next=6;break}return setError("Repo already tagged!"),_context5.abrupt("return");case 6:return _context5.prev=6,_context5.next=9,fetch("".concat("https://beta.api.opensauced.pizza/v1","/repos/").concat(repoFullName));case 9:if(_context5.sent.ok){_context5.next=17;break}return _context5.next=13,fetch("https://api.github.com/repos/".concat(repoFullName),contributor_highlight_card_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 13:if(_context5.sent.ok){_context5.next=17;break}return setError("Repo does not exist!"),_context5.abrupt("return");case 17:_repoFullName$split=repoFullName.split("/"),_repoFullName$split2=(0,slicedToArray.Z)(_repoFullName$split,2),ownerName=_repoFullName$split2[0],_repoName2=_repoFullName$split2[1],_repoIcon=(0,github.cc)(ownerName,60),newTaggedRepoList=[].concat((0,toConsumableArray.Z)(taggedRepoList),[{repoName:_repoName2,repoOwner:ownerName,repoIcon:_repoIcon}]),setTaggedRepoList(newTaggedRepoList),toast({description:"Repo tag added!",title:"Success",variant:"success"}),_context5.next=28;break;case 24:_context5.prev=24,_context5.t0=_context5.catch(6),contributor_highlight_card_console.error(_context5.t0),setError("An error occured!");case 28:case"end":return _context5.stop()}}),_callee5,null,[[6,24]])})));return function handleTaggedRepoAdd(_x4){return _ref6.apply(this,arguments)}}(),updateSuggestionsDebounced=(0,useDebounce.N)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee6(){var req,res,suggestions;return regenerator_default().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return setTagRepoSearchLoading(!0),_context6.next=3,fetch("https://api.github.com/search/repositories?q=".concat(encodeURIComponent("".concat(taggedRepoSearchTerm," in:name in:repo:owner/name sort:updated"))),contributor_highlight_card_objectSpread({},providerToken?{headers:{Authorization:"Bearer ".concat(providerToken)}}:{}));case 3:if(req=_context6.sent,setTagRepoSearchLoading(!1),!req.ok){_context6.next=11;break}return _context6.next=8,req.json();case 8:res=_context6.sent,suggestions=res.items.map((function(item){return item.full_name})),setRepoTagSuggestions(suggestions);case 11:case"end":return _context6.stop()}}),_callee6)}))),250);return(0,react.useEffect)((function(){setRepoTagSuggestions([]),taggedRepoSearchTerm&&updateSuggestionsDebounced()}),[taggedRepoSearchTerm]),(0,react.useEffect)((function(){void 0!==window&&setHost(window.location.origin)}),[]),contributor_highlight_card_jsx("article",{className:"w-full flex flex-col flex-1 gap-3 md:max-w-[40rem] lg:gap-6 lg:max-w-[29rem] 2xl:max-w-[34rem]"},contributor_highlight_card_jsx("div",null,contributor_highlight_card_jsx("div",{className:(0,clsx_m.Z)("flex items-center mb-4 gap-1 text-light-slate-11",title&&"mb-2")},icon,contributor_highlight_card_jsx("span",{className:"text-sm text-light-slate-11"},getHighlightTypePreset(type).text),contributor_highlight_card_jsx("div",{className:"flex items-center gap-3 ml-auto lg:gap-3"},contributor_highlight_card_jsx(dropdown.h_,{open:dropdownOpen,modal:!1},contributor_highlight_card_jsx("div",{className:"flex items-center gap-3 w-max"},contributor_highlight_card_jsx(tooltip.Z,{direction:"top",content:"share on twitter"},contributor_highlight_card_jsx("a",{onClick:function onClick(){handleCaptureClickDetailsForAnalytics("twitter")},target:"_blank",rel:"noreferrer",href:"https://twitter.com/intent/tweet?text=".concat(twitterTweet,"&url=").concat(host,"/feed/").concat(id),className:"flex items-center p-3 transition rounded-full hover:bg-light-orange-5"},contributor_highlight_card_jsx(fa6_index_esm.LCd,{className:"text-lg text-light-orange-9 md:text-xl"}))),contributor_highlight_card_jsx(dropdown.$F,{onClick:function onClick(){return setDropdownOpen(!dropdownOpen)},className:"py-2 px-2 rounded-full data-[state=open]:bg-light-slate-7"},contributor_highlight_card_jsx(tfi_index_esm.j03,{className:"fill-light-slate-11",size:24}))),contributor_highlight_card_jsx(dropdown.AW,{ref:dropdownRef,align:"end",className:"flex flex-col gap-1 py-2 rounded-lg"},contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md"},contributor_highlight_card_jsx("a",{onClick:function onClick(){handleCaptureClickDetailsForAnalytics("linkedin")},target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(host,"/feed/").concat(id),className:"flex gap-2.5 py-1 items-center pl-3 pr-7"},contributor_highlight_card_jsx(fi_index_esm.qOw,{size:22}),contributor_highlight_card_jsx("span",null,"Share to Linkedin"))),contributor_highlight_card_jsx(dropdown.Xi,{onClick:function onClick(){handleCopyToClipboard("".concat(host,"/feed/").concat(id)),setDropdownOpen(!1)},className:"rounded-md"},contributor_highlight_card_jsx("div",{className:"flex gap-2.5 py-1 items-center pl-3 pr-7 cursor-pointer"},contributor_highlight_card_jsx(bs_index_esm.Gzp,{size:22}),contributor_highlight_card_jsx("span",null,"Copy link"))),loggedInUser?contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat((null==loggedInUser||null===(_loggedInUser$user_me=loggedInUser.user_metadata)||void 0===_loggedInUser$user_me?void 0:_loggedInUser$user_me.user_name)===user&&"hidden")},contributor_highlight_card_jsx("div",{onClick:isError?follow:unFollow,className:"flex gap-2.5 py-1 items-center pl-3 pr-7 cursor-pointer"},contributor_highlight_card_jsx(fa_index_esm.Bj$,{size:22}),contributor_highlight_card_jsx("span",null,isError?"Follow":"Unfollow"," ",user))):contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md"},contributor_highlight_card_jsx("div",{onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee7(){return regenerator_default().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.abrupt("return",signIn({provider:"github"}));case 1:case"end":return _context7.stop()}}),_callee7)}))),className:"flex gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(fa_index_esm.Bj$,{size:22}),contributor_highlight_card_jsx("span",null,"Follow ",user))),loggedInUser&&contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat(loggedInUser&&loggedInUser.user_metadata.user_name!==user&&"hidden")},contributor_highlight_card_jsx("button",{onClick:function onClick(){setOpenEdit(!0),setDropdownOpen(!1)},className:"flex w-full cursor-default gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(fi_index_esm.vPQ,{size:22}),contributor_highlight_card_jsx("span",null,"Edit"))),contributor_highlight_card_jsx(dropdown.Xi,{className:"rounded-md ".concat(loggedInUser&&loggedInUser.user_metadata.user_name===user&&"hidden")},contributor_highlight_card_jsx("a",{href:"mailto:hello@opensauced.pizza?subject=".concat(reportSubject),className:"flex gap-2.5 py-1  items-center pl-3 pr-7"},contributor_highlight_card_jsx(gr_index_esm.KLf,{size:22}),contributor_highlight_card_jsx("span",null,"Report content"))))))),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between w-full"},contributor_highlight_card_jsx("div",{className:"flex items-center justify-between gap-1 pr-2"},title&&contributor_highlight_card_jsx(Typography_title.Z,{className:"!text-sm  break-words lg:!text-xl !text-light-slate-12",level:4},title))),contributor_highlight_card_jsx("div",{className:"w-full "},contributor_highlight_card_jsx("p",{className:"text-sm font-normal break-words text-light-slate-12 lg:text-base"},desc)),contributor_highlight_card_jsx("div",null,contributor_highlight_card_jsx("a",{href:highlightLink,target:"_blank",rel:"noreferrer",className:"underline break-words cursor-pointer text-sauced-orange"},highlightLink))),"pull_request"===type||"issue"===type?contributor_highlight_card_jsx(gh_open_graph_img.Z,{githubLink:highlightLink}):contributor_highlight_card_jsx(dev_to_social_img.Z,{blogLink:highlightLink}),contributor_highlight_card_jsx("div",{className:"flex flex-wrap items-center gap-1"},contributor_highlight_card_jsx(dropdown.h_,null,contributor_highlight_card_jsx(dropdown.$F,{className:"p-1   rounded-full data-[state=open]:bg-light-slate-7"},contributor_highlight_card_jsx(index_esm.UUf,{className:"w-5 h-5"})),contributor_highlight_card_jsx(dropdown.AW,{className:"flex flex-row gap-1 rounded-3xl",side:"right"},emojis&&emojis.length>0&&emojis.map((function(_ref9){var id=_ref9.id,name=_ref9.name;return contributor_highlight_card_jsx(dropdown.Xi,{onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee8(){return regenerator_default().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.abrupt("return",sessionToken?handleUpdateReaction(id):signIn({provider:"github"}));case 1:case"end":return _context8.stop()}}),_callee8)}))),key:id,className:"rounded-full !px-2 !cursor-pointer"},contributor_highlight_card_jsx(lib.ZP,{text:":".concat(name,":")}))})))),reactions&&emojis&&reactions.length>0&&reactions.map((function(_ref11){var emoji_id=_ref11.emoji_id,reaction_count=_ref11.reaction_count,reaction_users=_ref11.reaction_users;return contributor_highlight_card_jsx(tooltip.Z,{key:emoji_id,direction:"top",content:"".concat(getEmojiReactors(reaction_users)," reacted with ").concat(getEmojiNameById(emoji_id)," emoji")},contributor_highlight_card_jsx("div",{className:"px-1 py-0 md:py-0.5 hover:bg-light-slate-6 transition  md:px-1.5 shrink-0 border flex items-center justify-center rounded-full cursor-pointer ".concat(isUserReaction(emoji_id)&&"bg-light-slate-6"),onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee9(){return regenerator_default().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",sessionToken?handleUpdateReaction(emoji_id):signIn({provider:"github"}));case 1:case"end":return _context9.stop()}}),_callee9)})))},contributor_highlight_card_jsx(lib.ZP,{className:"text-xs md:text-sm text-light-slate-10",text:":".concat(getEmojiNameById(emoji_id),": ").concat(reaction_count)})))})),contributor_highlight_card_jsx("div",{className:"ml-auto"},contributor_highlight_card_jsx(card_repo_list.Z,{repoList:repos}))),contributor_highlight_card_jsx(dialog.Vq,{open:openEdit,onOpenChange:setOpenEdit},contributor_highlight_card_jsx(dialog.cZ,{className:"p-4"},contributor_highlight_card_jsx(dialog.fK,null,contributor_highlight_card_jsx(dialog.$N,null,"Edit Your Highlight"),contributor_highlight_card_jsx(dialog.Be,{className:"font-normal"},"Make changes to your highlights here. Click save when you're done.")),contributor_highlight_card_jsx("form",{onSubmit:handleUpdateHighlight,className:"flex flex-col flex-1 gap-4 font-normal "},contributor_highlight_card_jsx("div",{className:"flex flex-col gap-2 p-2 overflow-hidden text-sm rounded-lg "},errorMsg&&contributor_highlight_card_jsx("p",{className:"inline-flex items-center gap-2 px-2 py-1 mb-4 text-red-500 bg-red-100 border border-red-500 rounded-md w-max"},contributor_highlight_card_jsx(md_index_esm.vVM,{size:20})," ",errorMsg),contributor_highlight_card_jsx("fieldset",{className:"flex flex-col w-full gap-1"},contributor_highlight_card_jsx("label",{htmlFor:"description"},"Body"),contributor_highlight_card_jsx("div",{className:"bg-white rounded-lg focus-within:border"},contributor_highlight_card_jsx(text_area.g,{value:highlight.desc,onChange:function onChange(e){setHighlight((function(prev){return contributor_highlight_card_objectSpread(contributor_highlight_card_objectSpread({},prev),{},{desc:e.target.value})})),setError(""),setWordCount(e.target.value.length)},className:"px-2 mb-2 font-normal transition rounded-lg resize-y min-h-[90px]  max-h-96 h-28 text-light-slate-11 focus:outline-none"}),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between py-1 pl-3"},contributor_highlight_card_jsx(tooltip.Z,{direction:"top",content:"Pick a date"},contributor_highlight_card_jsx(popover.J2,{open:popoverOpen},contributor_highlight_card_jsx(popover.xo,{asChild:!0},contributor_highlight_card_jsx("button",{onClick:function onClick(){return setPopoverOpen(!popoverOpen)},className:"flex items-center gap-2 text-base text-light-slate-9"},contributor_highlight_card_jsx(bs_index_esm.uis,{className:"text-light-slate-9"}),date&&contributor_highlight_card_jsx("span",{className:"text-xs"},(0,format.Z)(date,"PPP")))),contributor_highlight_card_jsx(popover.yk,{ref:popoverContentRef,className:"w-auto p-0 bg-white pointer-events-auto"},contributor_highlight_card_jsx(calendar.f,{toDate:new Date,mode:"single",selected:date,onSelect:function onSelect(date){setDate(date),setPopoverOpen(!1)},className:"border rounded-md"})))),contributor_highlight_card_jsx("p",{className:"flex justify-end gap-1 px-2 text-xs text-light-slate-9"},contributor_highlight_card_jsx("span",{className:"".concat(wordCount>500&&"text-red-600")},wordCount>500?"-".concat(wordCount-500):wordCount),"/ ",contributor_highlight_card_jsx("span",null,500))))),contributor_highlight_card_jsx("fieldset",{className:"flex flex-col w-full gap-1"},contributor_highlight_card_jsx("label",{htmlFor:"title"},"Highlight link"),contributor_highlight_card_jsx("input",{onChange:function onChange(e){setHighlight((function(prev){return contributor_highlight_card_objectSpread(contributor_highlight_card_objectSpread({},prev),{},{highlightLink:e.target.value})})),setError("")},value:highlight.highlightLink,name:"title",className:"h-8 px-2 font-normal text-orange-600 rounded-lg focus:outline-none focus:border "})),contributor_highlight_card_jsx("label",{htmlFor:"title"},"Tagged Repos"),contributor_highlight_card_jsx("div",{className:"flex items-center justify-between w-full gap-1 p-1 text-sm bg-white  rounded-lg mb-4"},contributor_highlight_card_jsx("div",{className:"flex w-full gap-1"},contributor_highlight_card_jsx(card_repo_list.Z,{repoList:taggedRepoList,deletable:!0,onDelete:function onDelete(repoName){return function handleTaggedRepoDelete(repoName){var newTaggedRepoList=taggedRepoList.filter((function(repo){return repo.repoName!==repoName}));setTaggedRepoList(newTaggedRepoList)}(repoName)}}),contributor_highlight_card_jsx(AlertDialog,{open:addTaggedRepoFormOpen,onOpenChange:function onOpenChange(prev){return!prev}},contributor_highlight_card_jsx(AlertDialogTrigger,{asChild:!0},contributor_highlight_card_jsx(tooltip.Z,{content:"Add a repo"},contributor_highlight_card_jsx("button",{onClick:function onClick(e){e.preventDefault(),setAddTaggedRepoFormOpen(!0)},className:"flex gap-1  p-1 pr-2 border-[1px] border-light-slate-6 rounded-lg text-light-slate-12 items-center cursor-pointer"},contributor_highlight_card_jsx(bs_index_esm.ra4,{className:"rounded-[4px] overflow-hidden"}),contributor_highlight_card_jsx("span",{className:"max-w-[45px] md:max-w-[100px] truncate"},"Add a repo")))),contributor_highlight_card_jsx(AlertDialogContent,{className:"z-100"},contributor_highlight_card_jsx(search.Z,{isLoading:tagRepoSearchLoading,placeholder:"Repository Full Name (ex: open-sauced/open-sauced)",className:"!w-full text-md text-gra",name:"query",suggestions:repoTagSuggestions,onChange:function onChange(value){return setTaggedRepoSearchTerm(value)},onSearch:function onSearch(search){return setTaggedRepoSearchTerm(search)}}),contributor_highlight_card_jsx("div",{className:"flex justify-end gap-2"},contributor_highlight_card_jsx(Button_button.Z,{variant:"default",onClick:function onClick(){return setAddTaggedRepoFormOpen(!1)}},"Cancel"),contributor_highlight_card_jsx(Button_button.Z,{variant:"primary",onClick:function onClick(){setAddTaggedRepoFormOpen(!1),handleTaggedRepoAdd(taggedRepoSearchTerm)},disabled:!taggedRepoSearchTerm},"Add"))))))),contributor_highlight_card_jsx("div",{className:"flex gap-3"},contributor_highlight_card_jsx(AlertDialog,{open:alertOpen,onOpenChange:setAlertOpen},contributor_highlight_card_jsx(AlertDialogTrigger,{asChild:!0,className:"ml-auto"},contributor_highlight_card_jsx(Button_button.Z,{className:"text-red-600 border bg-light-red-7 border-light-red-400 hover:bg-light-red-8 hover:text-red-700",variant:"primary"},"Delete Highlight")),contributor_highlight_card_jsx(AlertDialogContent,null,contributor_highlight_card_jsx(AlertDialogHeader,null,contributor_highlight_card_jsx(AlertDialogTitle,null,"Are you absolutely sure?"),contributor_highlight_card_jsx(AlertDialogDescription,null,"This action cannot be undone. This will permanently delete your Highlight and remove related data from our database.")),contributor_highlight_card_jsx(AlertDialogFooter,null,contributor_highlight_card_jsx("div",{className:"flex items-center justify-end gap-3"},contributor_highlight_card_jsx(AlertDialogAction,{asChild:!0,onClick:function onClick(){return setAlertOpen(!1)}},contributor_highlight_card_jsx(Button_button.Z,{className:"ml-auto",variant:"text"},"Cancel")),contributor_highlight_card_jsx(AlertDialogAction,{asChild:!0},contributor_highlight_card_jsx(Button_button.Z,{loading:deleteLoading,className:"text-red-600 bg-red-300 border border-red-400 hover:bg-light-red-8 hover:text-red-700",variant:"text",onClick:function onClick(){return handleDeleteHighlight()}},"Confirm")))))),contributor_highlight_card_jsx(Button_button.Z,{loading:loading,className:"",variant:"primary"},"Save"))),contributor_highlight_card_jsx(dialog.iK,{onClick:function onClick(){return setOpenEdit(!1)}}))))};ContributorHighlightCard.displayName="ContributorHighlightCard",ContributorHighlightCard.__docgenInfo={description:"",methods:[],displayName:"ContributorHighlightCard",props:{type:{defaultValue:{value:'"pull_request"',computed:!1},required:!1,tsType:{name:"union",raw:'"pull_request" | "issue" | "blog_post"',elements:[{name:"literal",value:'"pull_request"'},{name:"literal",value:'"issue"'},{name:"literal",value:'"blog_post"'}]},description:""},title:{required:!1,tsType:{name:"string"},description:""},desc:{required:!1,tsType:{name:"string"},description:""},highlightLink:{required:!0,tsType:{name:"string"},description:""},user:{required:!0,tsType:{name:"string"},description:""},id:{required:!0,tsType:{name:"string"},description:""},shipped_date:{required:!0,tsType:{name:"string"},description:""},refreshCallBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},emojis:{required:!0,tsType:{name:"Array",elements:[{name:"DbEmojis"}],raw:"DbEmojis[]"},description:""},taggedRepos:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};var contributor_highlight_card=ContributorHighlightCard;try{contributorhighlightcard.displayName="contributorhighlightcard",contributorhighlightcard.__docgenInfo={description:"",displayName:"contributorhighlightcard",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},desc:{defaultValue:null,description:"",name:"desc",required:!1,type:{name:"string"}},highlightLink:{defaultValue:null,description:"",name:"highlightLink",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},shipped_date:{defaultValue:null,description:"",name:"shipped_date",required:!0,type:{name:"string"}},refreshCallBack:{defaultValue:null,description:"",name:"refreshCallBack",required:!1,type:{name:"(() => void)"}},emojis:{defaultValue:null,description:"",name:"emojis",required:!0,type:{name:"DbEmojis[]"}},type:{defaultValue:{value:"pull_request"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"pull_request"'},{value:'"issue"'},{value:'"blog_post"'}]}},taggedRepos:{defaultValue:null,description:"",name:"taggedRepos",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ContributorHighlight/contributor-highlight-card.tsx#contributorhighlightcard"]={docgenInfo:contributorhighlightcard.__docgenInfo,name:"contributorhighlightcard",path:"components/molecules/ContributorHighlight/contributor-highlight-card.tsx#contributorhighlightcard"})}catch(__react_docgen_typescript_loader_error){}},"./lib/hooks/useFollowUser.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),swr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils/public-api-fetcher.ts"),_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");__webpack_exports__.Z=function useFollowUser(username){var _useSupabaseAuth=(0,_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_3__.Z)(),sessionToken=_useSupabaseAuth.sessionToken,user=_useSupabaseAuth.user,mutateGlobal=(0,swr__WEBPACK_IMPORTED_MODULE_1__.kY)().mutate,_useSWR=(0,swr__WEBPACK_IMPORTED_MODULE_1__.ZP)(username?"users/".concat(username,"/follow"):null,lib_utils_public_api_fetcher__WEBPACK_IMPORTED_MODULE_2__.Z),data=_useSWR.data,error=_useSWR.error,mutate=_useSWR.mutate,follow=function(){var _ref=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(){var req,_user$user_metadata;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/users/").concat(username,"/follow"),{method:"PUT",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((function(err){return console.log(err)}));case 2:(req=_context.sent)&&req.ok&&(mutate(),mutateGlobal("user/".concat(null==user||null===(_user$user_metadata=user.user_metadata)||void 0===_user$user_metadata?void 0:_user$user_metadata.username)));case 4:case"end":return _context.stop()}}),_callee)})));return function follow(){return _ref.apply(this,arguments)}}(),unFollow=function(){var _ref2=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee2(){var req,_user$user_metadata2;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/users/").concat(username,"/follow"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(sessionToken)}}).catch((function(err){return console.log(err)}));case 2:(req=_context2.sent)&&req.ok&&(mutate(),mutateGlobal("user/".concat(null==user||null===(_user$user_metadata2=user.user_metadata)||void 0===_user$user_metadata2?void 0:_user$user_metadata2.username)));case 4:case"end":return _context2.stop()}}),_callee2)})));return function unFollow(){return _ref2.apply(this,arguments)}}();return{data:data||void 0,isLoading:!error&&!data,isError:!!error,mutate:mutate,follow:follow,unFollow:unFollow}}}}]);