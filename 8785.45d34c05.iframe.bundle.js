"use strict";(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[8785],{"./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _objectDestructuringEmpty(obj){if(null==obj)throw new TypeError("Cannot destructure "+obj)}__webpack_require__.d(__webpack_exports__,{Z:function(){return _objectDestructuringEmpty}})},"./components/atoms/ProgressPie/progress-pie.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var __jsx=__webpack_require__("./node_modules/react/index.js").createElement,ProgressPie=function ProgressPie(_ref){var className=_ref.className,percentage=_ref.percentage,svgStyles=_ref.svgStyles,circleStyles=_ref.circleStyles;return __jsx("div",{className:"".concat(className||""," w-6 h-6 text-base relative flex items-center justify-center border-2 rounded-full border-orange-500")},__jsx("svg",{className:"".concat(svgStyles||""," w-4 h-4 text-base"),viewBox:"0 0 20 20",height:"20",width:"20"},__jsx("circle",{className:"".concat(circleStyles||""," transition-all duration-700 ease-out fill-transparent stroke-orange-500 -rotate-90 translate-y-[20px]"),r:"5",cx:"10",cy:"10",strokeWidth:"10",strokeDasharray:"calc(".concat(percentage," * 31.4 / 100) 31.4")})))};ProgressPie.displayName="ProgressPie",ProgressPie.__docgenInfo={description:"",methods:[],displayName:"ProgressPie"},__webpack_exports__.Z=ProgressPie;try{progresspie.displayName="progresspie",progresspie.__docgenInfo={description:"",displayName:"progresspie",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},percentage:{defaultValue:null,description:"",name:"percentage",required:!1,type:{name:"number"}},svgStyles:{defaultValue:null,description:"",name:"svgStyles",required:!1,type:{name:"string"}},circleStyles:{defaultValue:null,description:"",name:"circleStyles",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ProgressPie/progress-pie.tsx#progresspie"]={docgenInfo:progresspie.__docgenInfo,name:"progresspie",path:"components/atoms/ProgressPie/progress-pie.tsx#progresspie"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/AuthSection/auth-section.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return auth_section}});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),objectDestructuringEmpty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),react=__webpack_require__("./node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),next_router=__webpack_require__("./node_modules/next/router.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),index_esm=__webpack_require__("./node_modules/react-icons/io5/index.esm.js"),fi_index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),bi_index_esm=__webpack_require__("./node_modules/react-icons/bi/index.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");var DividerStyles={"sbui-divider":"sbui-divider","sbui-divider-vertical":"sbui-divider-vertical","sbui-divider--light":"sbui-divider--light","sbui-divider--no-text":"sbui-divider--no-text","sbui-divider--left":"sbui-divider--left","sbui-divider--right":"sbui-divider--right","sbui-divider--center":"sbui-divider--center",sbuiDivider:"sbui-divider",sbuiDividerVertical:"sbui-divider-vertical",sbuiDividerLight:"sbui-divider--light",sbuiDividerNoText:"sbui-divider--no-text",sbuiDividerLeft:"sbui-divider--left",sbuiDividerRight:"sbui-divider--right",sbuiDividerCenter:"sbui-divider--center"};function Divider({children:children,className:className,light:light=!1,orientation:orientation="center",style:style,type:type="horizontal"}){let classes=["horizontal"===type?DividerStyles["sbui-divider"]:DividerStyles["sbui-divider-vertical"]];return light&&classes.push(DividerStyles["sbui-divider--light"]),children?classes.push(DividerStyles[`sbui-divider--${orientation}`]):children||"horizontal"!==type||classes.push(DividerStyles["sbui-divider--no-text"]),className&&classes.push(className),(0,jsx_runtime.jsx)("div",Object.assign({className:classes.join(" "),role:"seperator",style:style},{children:children&&(0,jsx_runtime.jsx)("span",Object.assign({className:DividerStyles["sbui-divider__content"]},{children:children}),void 0)}),void 0)}!function styleInject(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}('.sbui-divider{width:100%;display:flex;align-items:center;white-space:nowrap}.sbui-divider-vertical{--tw-bg-opacity:1;background-color:rgba(224,224,224,var(--tw-bg-opacity))}.dark .sbui-divider-vertical{--tw-bg-opacity:1;background-color:rgba(68,68,68,var(--tw-bg-opacity))}.sbui-divider-vertical{width:1px;height:inherit}.sbui-divider-vertical.sbui-divider--light{--tw-bg-opacity:1;background-color:rgba(238,238,238,var(--tw-bg-opacity))}.dark .sbui-divider-vertical.sbui-divider--light{--tw-bg-opacity:1;background-color:rgba(42,42,42,var(--tw-bg-opacity))}.sbui-divider--no-text{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--no-text{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--no-text{border-bottom-style:solid;border-bottom-width:1px}.sbui-divider>span{font-size:.875rem;line-height:1.25rem;--tw-text-opacity:1;color:rgba(187,187,187,var(--tw-text-opacity))}.dark .sbui-divider>span{--tw-text-opacity:1;color:rgba(102,102,102,var(--tw-text-opacity))}.sbui-divider>span{display:inline-block;padding:0 1em}.sbui-divider--left:before{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--left:before{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--left:before{border-bottom-style:solid;border-bottom-width:1px;top:50%;content:"";position:relative;display:inline-block;width:5%}.sbui-divider--left:after{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--left:after{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--left:after{border-bottom-style:solid;border-bottom-width:1px;top:50%;content:"";position:relative;display:inline-block;width:95%}.sbui-divider--right:before{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--right:before{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--right:before{border-bottom-style:solid;border-bottom-width:1px;top:50%;content:"";position:relative;display:inline-block;width:95%}.sbui-divider--right:after{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--right:after{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--right:after{border-bottom-style:solid;border-bottom-width:1px;top:50%;content:"";position:relative;display:inline-block;width:5%}.sbui-divider--center:after,.sbui-divider--center:before{--tw-border-opacity:1;border-color:rgba(224,224,224,var(--tw-border-opacity))}.dark .sbui-divider--center:after,.dark .sbui-divider--center:before{--tw-border-opacity:1;border-color:rgba(68,68,68,var(--tw-border-opacity))}.sbui-divider--center:after,.sbui-divider--center:before{border-bottom-style:solid;border-bottom-width:1px;top:50%;content:"";position:relative;display:inline-block;width:50%}.sbui-divider--light.sbui-divider--center:after,.sbui-divider--light.sbui-divider--center:before,.sbui-divider--light.sbui-divider--left:after,.sbui-divider--light.sbui-divider--left:before,.sbui-divider--light.sbui-divider--no-text,.sbui-divider--light.sbui-divider--right:after,.sbui-divider--light.sbui-divider--right:before{--tw-border-opacity:1;border-color:rgba(238,238,238,var(--tw-border-opacity))}.dark .sbui-divider--light.sbui-divider--center:after,.dark .sbui-divider--light.sbui-divider--center:before,.dark .sbui-divider--light.sbui-divider--left:after,.dark .sbui-divider--light.sbui-divider--left:before,.dark .sbui-divider--light.sbui-divider--no-text,.dark .sbui-divider--light.sbui-divider--right:after,.dark .sbui-divider--light.sbui-divider--right:before{--tw-border-opacity:1;border-color:rgba(42,42,42,var(--tw-border-opacity))}.sbui-divider--light.sbui-divider>span{--tw-text-opacity:1;color:rgba(224,224,224,var(--tw-text-opacity))}.dark .sbui-divider--light.sbui-divider>span{--tw-text-opacity:1;color:rgba(24,24,24,var(--tw-text-opacity))}');var store=__webpack_require__("./lib/store/index.ts"),useSession=__webpack_require__("./lib/hooks/useSession.ts"),person_icon=__webpack_require__("./img/icons/person-icon.svg"),avatar=__webpack_require__("./components/atoms/Avatar/avatar.tsx"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),github_icon=__webpack_require__("./img/icons/github-icon.svg"),icon=__webpack_require__("./components/atoms/Icon/icon.tsx"),search_dialog=__webpack_require__("./components/organisms/SearchDialog/search-dialog.tsx"),dropdown_list=__webpack_require__("./components/molecules/DropdownList/dropdown-list.tsx"),onboarding_button=__webpack_require__("./components/molecules/OnboardingButton/onboarding-button.tsx"),ellipse_1={src:"static/media/ellipse-1.aa9bf040.png",height:32,width:32,blurDataURL:"static/media/ellipse-1.aa9bf040.png"},chevron_down=__webpack_require__("./img/chevron-down.svg"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),__jsx=react.createElement,AuthSection=function AuthSection(_ref){(0,objectDestructuringEmpty.Z)(_ref);var router=(0,next_router.useRouter)(),currentPath=router.asPath,openSearch=(0,store.Z)((function(state){return state.openSearch})),_useSupabaseAuth=(0,useSupabaseAuth.Z)(),signIn=_useSupabaseAuth.signIn,signOut=_useSupabaseAuth.signOut,user=_useSupabaseAuth.user,_useSession=(0,useSession.Z)(!0),onboarded=_useSession.onboarded,session=_useSession.session,_useState=(0,react.useState)(void 0),userInfo=_useState[0],setUserInfo=_useState[1],_useState2=(0,react.useState)(""),host=_useState2[0],setHost=_useState2[1];(0,react.useEffect)((function(){"undefined"!=typeof window&&setHost(window.location.origin)}),[]),(0,react.useEffect)((function(){session&&!userInfo&&setUserInfo(session)}),[session]);var authMenu={authed:[__jsx(link_default(),{href:"/user/".concat(null==user?void 0:user.user_metadata.user_name),key:"settings",className:"flex items-center px-4 py-2 text-lg transition rounded-md cursor-pointer group gap-x-3 hover:bg-light-orange-3"},__jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full"},__jsx(next_image.Z,{width:10,height:10,alt:"Icon",src:person_icon.Z})),__jsx(Typography_text.Z,{className:"group-hover:text-light-orange-10"},null==user?void 0:user.user_metadata.user_name)),__jsx(link_default(),{href:"https://docs.opensauced.pizza/community/faqs/",key:"faqs",className:"flex items-center px-4 py-2 text-lg transition rounded-md cursor-pointer group gap-x-3 hover:bg-light-orange-3"},__jsx(bi_index_esm.rpH,{className:"group-hover:text-light-orange-10"}),__jsx(Typography_text.Z,{className:"group-hover:text-light-orange-10"},"FAQs")),__jsx(link_default(),{href:"/user/settings",key:"settings",className:"flex items-center px-4 py-2 text-lg transition rounded-md cursor-pointer group gap-x-3 hover:bg-light-orange-3"},__jsx(fi_index_esm.nbt,{className:"group-hover:text-light-orange-10"}),__jsx(Typography_text.Z,{className:"group-hover:text-light-orange-10"},"Settings")),__jsx("span",{onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var pageHref,searchParams;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return pageHref=window.location.href,(searchParams=new URLSearchParams(pageHref.substring(pageHref.indexOf("?")))).has("login")&&(searchParams.delete("login"),router.replace("".concat(pageHref.substring(0,pageHref.indexOf("?")),"?").concat(searchParams.toString()))),_context.next=5,signOut();case 5:case"end":return _context.stop()}}),_callee)}))),key:"authorized",className:"flex items-center px-4 py-2 text-lg transition rounded-md cursor-pointer group gap-x-3 hover:bg-light-orange-3"},__jsx(fi_index_esm.xqh,{className:"group-hover:text-light-orange-10"}),__jsx(Typography_text.Z,{className:"group-hover:text-light-orange-10"},"Disconnect"))]};return __jsx(react.Fragment,null,__jsx("div",{className:"flex p-2 m-1 sm:py-0"},__jsx("div",{className:"flex items-center gap-2 lg:gap-3"},__jsx(search_dialog.Z,null),user?__jsx(react.Fragment,null,!onboarded&&__jsx(react.Fragment,null,__jsx(onboarding_button.Z,null),__jsx(Divider,{type:"vertical",className:"!h-6 !bg-light-slate-6"})),__jsx("button",{className:"relative cursor-pointer",onClick:function onClick(){return router.push("/user/notifications")}},userInfo&&userInfo.notification_count>0&&__jsx("span",{className:"absolute right-0 block w-2 h-2 bg-orange-300 rounded-full"}),__jsx(index_esm.IZE,{className:"text-xl text-light-slate-9"})),__jsx(dropdown_list.Z,{className:"-mb-1",menuContent:authMenu.authed},__jsx("div",{className:"flex justify-end min-w-[60px] gap-2"},__jsx(avatar.Z,{alt:"User Avatar",avatarURL:user?user.user_metadata.avatar_url:ellipse_1,size:"base",hasBorder:!0,isCached:!1}),__jsx(next_image.Z,{alt:"Down Arrow",src:chevron_down.Z})))):__jsx(Button_button.Z,{variant:"primary",onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,signIn({provider:"github",options:{redirectTo:"".concat(host,"/").concat(currentPath)}});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)}))),className:"flex items-center"},"Connect ",__jsx("span",{className:"hidden sm:inline-block ml-1"},"with GitHub"),__jsx(icon.Z,{IconImage:github_icon.Z,className:"ml-2"})))),openSearch&&__jsx(search_dialog.C,null))};AuthSection.__docgenInfo={description:"",methods:[],displayName:"AuthSection"};var auth_section=AuthSection;try{authsection.displayName="authsection",authsection.__docgenInfo={description:"",displayName:"authsection",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/AuthSection/auth-section.tsx#authsection"]={docgenInfo:authsection.__docgenInfo,name:"authsection",path:"components/molecules/AuthSection/auth-section.tsx#authsection"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/DropdownList/dropdown-list.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_headlessui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@headlessui/react/dist/components/menu/menu.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,DropdownList=function DropdownList(_ref){var children=_ref.children,menuContent=_ref.menuContent,className=_ref.className,menuContentClassName=_ref.menuContentClassName,menuButtonClassName=_ref.menuButtonClassName;return __jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.v,{as:"div",className:"".concat(className||""," relative inline-block text-left")},__jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.v.Button,{className:"".concat(menuButtonClassName&&menuButtonClassName)},children),__jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.v.Items,{className:"".concat(menuContentClassName&&menuContentClassName," z-10 bg-white absolute right-0 w-56 origin-top-right rounded-md shadow-lg shadow-gray-400/10   focus:outline-none focus-within:ring focus-within:ring-white px-1 py-1 bg-darkestGrey text-md font-semibold")},menuContent.map((function(menuItemContent,index){return __jsx(_headlessui_react__WEBPACK_IMPORTED_MODULE_1__.v.Item,{key:index},menuItemContent)}))))};DropdownList.displayName="DropdownList",DropdownList.__docgenInfo={description:"",methods:[],displayName:"DropdownList"},__webpack_exports__.Z=DropdownList;try{dropdownlist.displayName="dropdownlist",dropdownlist.__docgenInfo={description:"",displayName:"dropdownlist",props:{menuContent:{defaultValue:null,description:"",name:"menuContent",required:!0,type:{name:"Element[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},menuContentClassName:{defaultValue:null,description:"",name:"menuContentClassName",required:!1,type:{name:"string"}},menuButtonClassName:{defaultValue:null,description:"",name:"menuButtonClassName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/DropdownList/dropdown-list.tsx#dropdownlist"]={docgenInfo:dropdownlist.__docgenInfo,name:"dropdownlist",path:"components/molecules/DropdownList/dropdown-list.tsx#dropdownlist"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/OnboardingButton/onboarding-button.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/atoms/Typography/text.tsx"),components_atoms_ProgressPie_progress_pie__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/atoms/ProgressPie/progress-pie.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,OnboardingButton=function OnboardingButton(){return __jsx("button",{className:"hidden items-center gap-2 border border-light-orange-8 py-1 px-1 pr-3 rounded-lg md:flex"},__jsx(components_atoms_ProgressPie_progress_pie__WEBPACK_IMPORTED_MODULE_3__.Z,{percentage:66}),__jsx(components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_2__.Z,{className:"text-sm !text-light-slate-12  "},__jsx(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:"/start"},"Complete the onboarding")))};OnboardingButton.displayName="OnboardingButton",OnboardingButton.__docgenInfo={description:"",methods:[],displayName:"OnboardingButton"},__webpack_exports__.Z=OnboardingButton;try{onboardingbutton.displayName="onboardingbutton",onboardingbutton.__docgenInfo={description:"",displayName:"onboardingbutton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/OnboardingButton/onboarding-button.tsx#onboardingbutton"]={docgenInfo:onboardingbutton.__docgenInfo,name:"onboardingbutton",path:"components/molecules/OnboardingButton/onboarding-button.tsx#onboardingbutton"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/SearchDialog/search-dialog.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return SearchDialogTrigger},C:function(){return SearchDialog}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),react=__webpack_require__("./node_modules/react/index.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),next_router=__webpack_require__("./node_modules/next/router.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),hi_index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),store=__webpack_require__("./lib/store/index.ts"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),avatar=__webpack_require__("./components/atoms/Avatar/avatar.tsx"),scroll_area=__webpack_require__("./components/atoms/ScrollArea/scroll-area.tsx"),hooks_useLockBody=function useLockBody(){react.useLayoutEffect((function(){var originalStyle=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){return document.body.style.overflow=originalStyle}}),[])},github=__webpack_require__("./lib/utils/github.ts"),searchUsers=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(username){var res;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch("".concat("https://beta.api.opensauced.pizza/v1","/users/search?page=1&username=").concat(username,"&limit=10"));case 3:if(200!==(res=_context.sent).status){_context.next=8;break}return _context.abrupt("return",res.json());case 8:return _context.abrupt("return",!1);case 9:_context.next=14;break;case 11:return _context.prev=11,_context.t0=_context.catch(0),_context.abrupt("return",!1);case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function searchUsers(_x){return _ref.apply(this,arguments)}}(),hooks_useDebounceTerm=function useDebounceTerm(value){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,_useState=(0,react.useState)(""),debouncedValue=_useState[0],setDebouncedValue=_useState[1],timeoutRef=(0,react.useRef)();return(0,react.useEffect)((function(){return timeoutRef.current=setTimeout((function(){return setDebouncedValue(value)}),delay),function(){clearTimeout(timeoutRef.current)}}),[value,delay]),debouncedValue},__jsx=react.createElement,SearchDialog=function SearchDialog(){hooks_useLockBody();var router=(0,next_router.useRouter)(),_useState=(0,react.useState)(-1),cursor=_useState[0],setCursor=_useState[1],_useState2=(0,react.useState)(""),searchTerm=_useState2[0],setSearchTerm=_useState2[1],_useState3=(0,react.useState)(!1),isSearching=_useState3[0],setIsSearching=_useState3[1],_useState4=(0,react.useState)(!1),isSearchError=_useState4[0],setIsSearchError=_useState4[1],setOpenSearch=(0,store.Z)((function(state){return state.setOpenSearch})),debouncedSearchTerm=hooks_useDebounceTerm(searchTerm,300),_useState5=(0,react.useState)(),searchResult=_useState5[0],setSearchResult=_useState5[1];(0,react.useEffect)((function(){function handleCloseSearch(e){"Escape"===e.key&&(e.preventDefault(),setOpenSearch(!1))}return document.addEventListener("keydown",handleCloseSearch),function(){return document.removeEventListener("keydown",handleCloseSearch)}}),[]);return(0,react.useEffect)((function(){function _startSearch(){return(_startSearch=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var data;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsSearching(!0),_context.next=3,searchUsers(debouncedSearchTerm);case 3:data=_context.sent,setSearchResult(data),setIsSearchError(!data.data.length),-1!==cursor&&setCursor(-1),setIsSearching(!1);case 8:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}searchTerm.length>=3&&function startSearch(){return _startSearch.apply(this,arguments)}()}),[debouncedSearchTerm]),__jsx("div",{className:"fixed left-0 top-0 z-[55] p-5 w-full h-full flex justify-center bg-white/30"},__jsx("div",{className:"absolute w-full h-full left-0 top-0 z-[60] backdrop-blur-sm",onClick:function onClick(){return setOpenSearch(!1)}}),__jsx("div",{className:"flex flex-col w-full max-w-2xl h-fit max-h-full bg-white shadow-xl border transition rounded-lg ring-light-slate-6 relative z-[65] overflow-hidden",onMouseMove:function onMouseMove(){return-1!==cursor&&setCursor(-1)}},__jsx("div",{className:"flex w-full h-full items-center border-b p-2 pl-3"},isSearching?__jsx("div",{className:"flex-none w-4 h-4 rounded-full border-2 border-light-slate-9 border-b-light-slate-5 border-r-light-slate-5 animate-spin"}):__jsx(index_esm.U41,{className:"text-light-slate-9",fontSize:16}),__jsx("input",{autoFocus:!0,className:"w-full pl-2 text-sm font-semibold text-slate-700 focus:outline-none",value:searchTerm,onChange:function onChange(e){setSearchTerm(e.target.value),isSearchError&&setIsSearchError(!1)},onKeyDown:function handleKeyboardCtrl(e){var _searchResult$data,resultsCount=(null==searchResult||null===(_searchResult$data=searchResult.data)||void 0===_searchResult$data?void 0:_searchResult$data.length)||0;if(resultsCount&&"ArrowUp"===e.key&&(e.preventDefault(),setCursor(0===cursor?Math.min(resultsCount-1,9):cursor-1)),resultsCount&&"ArrowDown"===e.key&&(e.preventDefault(),setCursor(cursor===Math.min(resultsCount-1,9)?0:cursor+1)),resultsCount&&"Enter"===e.key&&(e.preventDefault(),document.querySelector("._cursorActive"))){var user=document.querySelector("._cursorActive");router.push(user.href),setOpenSearch(!1)}}}),__jsx(Typography_text.Z,{keyboard:!0,className:"text-gray-600 !border-b !px-1"},"⌘K")),__jsx("div",{className:"w-full h-full flex items-center"},searchTerm.length<3?__jsx(SearchInfo,null):!isSearchError&&!isSearching&&null!=searchResult&&searchResult.data&&searchTerm.length>=3?__jsx(SearchResult,{cursor:cursor,result:null==searchResult?void 0:searchResult.data}):!isSearchError&&isSearching?__jsx(SearchLoading,null):isSearchError&&!isSearching&&__jsx(SearchError,null))))};SearchDialog.displayName="SearchDialog";var SearchDialogTrigger=function SearchDialogTrigger(){var setOpenSearch=(0,store.Z)((function(state){return state.setOpenSearch}));return(0,react.useEffect)((function(){function handleOpenSearch(e){(e.ctrlKey||e.metaKey)&&"k"===e.key.toLowerCase()&&(e.preventDefault(),setOpenSearch(!0))}return document.addEventListener("keydown",handleOpenSearch),function(){return document.removeEventListener("keydown",handleOpenSearch)}}),[]),__jsx(react.Fragment,null,__jsx("div",{className:"hidden sm:flex justify-between p-1 pl-3 h-fit w-52 ml-auto bg-white border rounded-lg ring-light-slate-6 relative overflow-hidden",onClick:function onClick(){return setOpenSearch(!0)}},__jsx("div",{className:"flex items-center"},__jsx(index_esm.U41,{className:"text-light-slate-9",fontSize:16}),__jsx(Typography_text.Z,{className:"pl-2 text-sm font-semibold text-light-slate-9"},"Search for users")),__jsx(Typography_text.Z,{keyboard:!0,className:"text-gray-600 !border-b !px-1"},"⌘K")),__jsx("div",{className:"flex sm:hidden p-1",onClick:function onClick(){return setOpenSearch(!0)}},__jsx(index_esm.U41,{className:"text-light-slate-9 cursor-pointer",fontSize:16})))},SearchInfo=function SearchInfo(){return __jsx(Typography_text.Z,{className:"block w-full py-1 px-4 text-slate-500 !font-normal leading-6"},"Type 3 characters or more to start searching")};SearchInfo.displayName="SearchInfo";var SearchLoading=function SearchLoading(){return __jsx("div",{className:"w-full flex items-center py-2 p-4 gap-2 animate-pulse"},__jsx("div",{className:"w-6 h-6 rounded-full flex-none bg-light-slate-6"}),__jsx("div",{className:"w-full flex items-center gap-2 overflow-hidden"},__jsx("div",{className:"w-4/12 md:w-2/12 h-2.5 rounded-lg bg-light-slate-6"}),__jsx("div",{className:"w-7/12 md:w-5/12 h-2.5 rounded-lg bg-light-slate-6"})))};SearchLoading.displayName="SearchLoading";var SearchError=function SearchError(){return __jsx(Typography_text.Z,{className:"block w-full py-1 px-4 text-sauced-orange !font-normal leading-6"},__jsx(hi_index_esm.fIq,{className:"text-sauced-orange inline-flex mr-2.5",fontSize:20}),"We couldn't find any users with that name")};SearchError.displayName="SearchError";var SearchResult=function SearchResult(_ref){var result=_ref.result,cursor=_ref.cursor;return __jsx("div",{className:"w-full py-1 overflow-hidden text-gray-600"},__jsx(Typography_text.Z,{className:"block w-full py-1 px-4"},"Users"),__jsx("div",{className:"w-full h-full"},__jsx(scroll_area.xr,{className:"w-full"},result.map((function(user,i){return __jsx(UserResultCard,(0,esm_extends.Z)({key:i,active:cursor===i},user))})))))};SearchResult.displayName="SearchResult";var UserResultCard=function UserResultCard(_ref2){var login=_ref2.login,full_name=_ref2.full_name,active=_ref2.active,router=(0,next_router.useRouter)(),setOpenSearch=(0,store.Z)((function(state){return state.setOpenSearch}));return __jsx(link_default(),{href:"/user/".concat(login),className:(0,clsx_m.Z)(active&&"_cursorActive bg-slate-100","w-full flex items-center py-2 p-4 gap-2 hover:bg-slate-100 cursor-pointer"),onClick:function handleClick(e){e.preventDefault(),router.push(e.currentTarget.href),setOpenSearch(!1)}},__jsx(avatar.Z,{size:"sm",className:"!rounded-full flex-none",avatarURL:(0,github.cc)(login)}),__jsx("div",{className:"flex items-center gap-2 overflow-hidden"},__jsx(Typography_text.Z,{className:"text-gray-900"},"@",login),__jsx(Typography_text.Z,{className:"!font-normal truncate"},full_name)))};UserResultCard.displayName="UserResultCard",SearchDialogTrigger.__docgenInfo={description:"",methods:[],displayName:"SearchDialogTrigger"},SearchDialog.__docgenInfo={description:"",methods:[],displayName:"SearchDialog"}},"./lib/hooks/useSession.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),lib_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/store/index.ts"),_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/hooks/useSupabaseAuth.ts");__webpack_exports__.Z=function useSession(){var getSession=arguments.length>0&&void 0!==arguments[0]&&arguments[0],sessionToken=(0,_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_3__.Z)(getSession).sessionToken,store=(0,lib_store__WEBPACK_IMPORTED_MODULE_2__.Z)(),hasReports=(0,lib_store__WEBPACK_IMPORTED_MODULE_2__.Z)((function(state){return state.hasReports})),onboarded=(0,lib_store__WEBPACK_IMPORTED_MODULE_2__.Z)((function(state){return state.onboarded})),waitlisted=(0,lib_store__WEBPACK_IMPORTED_MODULE_2__.Z)((function(state){return state.waitlisted})),_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),session=_useState[0],setSession=_useState[1],loadSession=function(){var _ref=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(){var response,data;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,fetch("".concat("https://beta.api.opensauced.pizza/v1","/auth/session"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)}});case 2:if(200!==(response=_context.sent).status){_context.next=10;break}return _context.next=6,response.json();case 6:return data=_context.sent,_context.abrupt("return",data);case 10:return _context.abrupt("return",!1);case 11:case"end":return _context.stop()}}),_callee)})));return function loadSession(){return _ref.apply(this,arguments)}}(),setStoreData=function setStoreData(isOnboarded,isWaitlisted,insightsRole){store.setSession({onboarded:isOnboarded,waitlisted:isWaitlisted,insightRepoLimit:insightsRole>=50?50:10}),store.setHasReports(insightsRole>=50)};return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee2(){var data;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!sessionToken||!getSession){_context2.next=6;break}return _context2.next=3,loadSession();case 3:data=_context2.sent,setSession(data),setStoreData(data.is_onboarded,data.is_waitlisted,data.insights_role);case 6:case"end":return _context2.stop()}}),_callee2)})))()}),[sessionToken]),{onboarded:onboarded,waitlisted:waitlisted,hasReports:hasReports,session:session}}},"./img/chevron-down.svg":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={src:"static/media/chevron-down.d99071fc.svg",height:16,width:16,blurDataURL:"static/media/chevron-down.d99071fc.svg"}},"./img/icons/github-icon.svg":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={src:"static/media/github-icon.d9e0f44a.svg",height:16,width:16,blurDataURL:"static/media/github-icon.d9e0f44a.svg"}},"./img/icons/person-icon.svg":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={src:"static/media/person-icon.f2841f1e.svg",height:14,width:12,blurDataURL:"static/media/person-icon.f2841f1e.svg"}}}]);