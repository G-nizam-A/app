"use strict";(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[1482],{"./components/atoms/Avatar/avatar-hover-card.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return avatar_hover_card}});var react=__webpack_require__("./node_modules/react/index.js"),index_module=__webpack_require__("./node_modules/@radix-ui/react-hover-card/dist/index.module.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),next_router=__webpack_require__("./node_modules/next/router.js"),useFetchUser=__webpack_require__("./lib/hooks/useFetchUser.ts"),useContributorPullRequestsChart=__webpack_require__("./lib/hooks/useContributorPullRequestsChart.ts"),github=__webpack_require__("./lib/utils/github.ts"),contributor_hover_card=__webpack_require__("./components/molecules/ContributorHoverCard/contributor-hover-card.tsx"),__jsx=react.createElement,HoverCardWrapper=function HoverCardWrapper(_ref){var username=_ref.username,repositories=_ref.repositories,topic=(0,next_router.useRouter)().query.filterName,contributor=(0,useFetchUser.j)(username).data,repoList=(0,useContributorPullRequestsChart.u)(username,"*",repositories).repoList,profile={githubAvatar:(0,github.cc)(username,40),githubName:username,totalPR:repoList.length},_ref2=null!=contributor?contributor:{},is_maintainer=_ref2.is_maintainer,first_opened_pr_at=_ref2.first_opened_pr_at;return __jsx(react.Fragment,null,__jsx(contributor_hover_card.Z,{dateOfFirstPr:first_opened_pr_at,totalPR:profile.totalPR,githubAvatar:profile.githubAvatar,githubName:profile.githubName,repoList:repoList,topic:topic,repositories:repositories,isMaintainer:!!is_maintainer}))};HoverCardWrapper.__docgenInfo={description:"",methods:[],displayName:"HoverCardWrapper",props:{username:{required:!0,tsType:{name:"string"},description:""},repositories:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""}}};var hover_card_wrapper=HoverCardWrapper;try{hovercardwrapper.displayName="hovercardwrapper",hovercardwrapper.__docgenInfo={description:"",displayName:"hovercardwrapper",props:{username:{defaultValue:null,description:"",name:"username",required:!0,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/HoverCardWrapper/hover-card-wrapper.tsx#hovercardwrapper"]={docgenInfo:hovercardwrapper.__docgenInfo,name:"hovercardwrapper",path:"components/molecules/HoverCardWrapper/hover-card-wrapper.tsx#hovercardwrapper"})}catch(__react_docgen_typescript_loader_error){}var avatar_hover_card_jsx=react.createElement,AvatarHoverCard=function AvatarHoverCard(_ref){var contributor=_ref.contributor,repositories=_ref.repositories;return avatar_hover_card_jsx(index_module.fC,null,avatar_hover_card_jsx(link_default(),{href:"/user/".concat(contributor),as:"/user/".concat(contributor)},avatar_hover_card_jsx(index_module.xz,{asChild:!0},avatar_hover_card_jsx(next_image.Z,{alt:contributor,className:"border rounded-full",height:500,src:(0,github.cc)(contributor,40),width:500}))),avatar_hover_card_jsx(index_module.h_,null,avatar_hover_card_jsx(index_module.VY,{sideOffset:5},avatar_hover_card_jsx(hover_card_wrapper,{username:contributor,repositories:repositories}))))};AvatarHoverCard.displayName="AvatarHoverCard",AvatarHoverCard.__docgenInfo={description:"",methods:[],displayName:"AvatarHoverCard",props:{contributor:{required:!0,tsType:{name:"string"},description:""},repositories:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""}}};var avatar_hover_card=AvatarHoverCard;try{avatarhovercard.displayName="avatarhovercard",avatarhovercard.__docgenInfo={description:"",displayName:"avatarhovercard",props:{contributor:{defaultValue:null,description:"",name:"contributor",required:!0,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!0,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/Avatar/avatar-hover-card.tsx#avatarhovercard"]={docgenInfo:avatarhovercard.__docgenInfo,name:"avatarhovercard",path:"components/atoms/Avatar/avatar-hover-card.tsx#avatarhovercard"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/ContributorHoverCard/contributor-hover-card.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/router.js"),lib_utils_date_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./lib/utils/date-utils.ts"),components_atoms_Badge_badge__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/atoms/Badge/badge.tsx"),_CardProfile_card_profile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/molecules/CardProfile/card-profile.tsx"),_CardRepoList_card_repo_list__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/molecules/CardRepoList/card-repo-list.tsx"),_PullRequestTable_pull_request_table__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./components/molecules/PullRequestTable/pull-request-table.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,ContributorHoverCard=function ContributorHoverCard(_ref){var repoList=_ref.repoList,githubName=_ref.githubName,totalPR=_ref.totalPR,dateOfFirstPr=_ref.dateOfFirstPr,githubAvatar=_ref.githubAvatar,repositories=_ref.repositories,isMaintainer=_ref.isMaintainer,topic=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)().query.filterName,calculatedDateFromToday=dateOfFirstPr?(0,lib_utils_date_utils__WEBPACK_IMPORTED_MODULE_6__.wu)(new Date(parseInt(dateOfFirstPr).toString())):"-";return __jsx("div",{className:"w-[364px] bg-white gap-4 p-3 rounded-lg shadow-superlative flex flex-col"},__jsx("div",{className:"flex items-center justify-between"},__jsx(_CardProfile_card_profile__WEBPACK_IMPORTED_MODULE_3__.Z,{dateOfFirstPR:calculatedDateFromToday,githubAvatar:githubAvatar,githubName:githubName,totalPRs:totalPR,isRoundedAvatar:!0}),isMaintainer&&__jsx(components_atoms_Badge_badge__WEBPACK_IMPORTED_MODULE_2__.Z,{text:"maintainer"})),__jsx("div",{className:""},__jsx(_PullRequestTable_pull_request_table__WEBPACK_IMPORTED_MODULE_5__.Z,{isHoverCard:!0,repositories:repositories,limit:5,contributor:githubName,topic:topic})),__jsx("div",null,__jsx(_CardRepoList_card_repo_list__WEBPACK_IMPORTED_MODULE_4__.Z,{repoList:repoList,limit:3})))};ContributorHoverCard.displayName="ContributorHoverCard",ContributorHoverCard.__docgenInfo={description:"",methods:[],displayName:"ContributorHoverCard",props:{repoList:{required:!0,tsType:{name:"Array",elements:[{name:"RepoList"}],raw:"RepoList[]"},description:""},githubAvatar:{required:!0,tsType:{name:"string"},description:""},githubName:{required:!0,tsType:{name:"string"},description:""},totalPR:{required:!0,tsType:{name:"number"},description:""},dateOfFirstPr:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},topic:{required:!1,tsType:{name:"string"},description:""},repositories:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},isMaintainer:{required:!0,tsType:{name:"boolean"},description:""}}},__webpack_exports__.Z=ContributorHoverCard;try{contributorhovercard.displayName="contributorhovercard",contributorhovercard.__docgenInfo={description:"",displayName:"contributorhovercard",props:{repoList:{defaultValue:null,description:"",name:"repoList",required:!0,type:{name:"RepoList[]"}},githubAvatar:{defaultValue:null,description:"",name:"githubAvatar",required:!0,type:{name:"string"}},githubName:{defaultValue:null,description:"",name:"githubName",required:!0,type:{name:"string"}},totalPR:{defaultValue:null,description:"",name:"totalPR",required:!0,type:{name:"number"}},dateOfFirstPr:{defaultValue:null,description:"",name:"dateOfFirstPr",required:!0,type:{name:"string | undefined"}},topic:{defaultValue:null,description:"",name:"topic",required:!1,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},isMaintainer:{defaultValue:null,description:"",name:"isMaintainer",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ContributorHoverCard/contributor-hover-card.tsx#contributorhovercard"]={docgenInfo:contributorhovercard.__docgenInfo,name:"contributorhovercard",path:"components/molecules/ContributorHoverCard/contributor-hover-card.tsx#contributorhovercard"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/StackedAvatar/stacked-avatar.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return stacked_avatar}});var react=__webpack_require__("./node_modules/react/index.js"),next_router=__webpack_require__("./node_modules/next/router.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),avatar_hover_card=__webpack_require__("./components/atoms/Avatar/avatar-hover-card.tsx"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),hooks_useInsight=function useInsight(id){var baseEndpoint="insights/".concat(id),endpointString="".concat(baseEndpoint),_useSWR=(0,dist.ZP)(id?endpointString:null,public_api_fetcher.Z),data=_useSWR.data,error=_useSWR.error,mutate=_useSWR.mutate;return{data:data,isLoading:!error&&!data,isError:!!error&&Object.keys(error).length>0,mutate:mutate}},console=__webpack_require__("./node_modules/console-browserify/index.js"),__jsx=react.createElement,StackedAvatar=function StackedAvatar(_ref){var contributors=_ref.contributors,_ref$visibleQuantity=_ref.visibleQuantity,visibleQuantity=void 0===_ref$visibleQuantity?5:_ref$visibleQuantity,classNames=_ref.classNames,filterName=(0,next_router.useRouter)().query.filterName,insightId=Number.isInteger(parseInt(filterName,10))?filterName:"",_useInsight=hooks_useInsight(insightId),insight=_useInsight.data,isError=_useInsight.isError,repositories=insight?insight.repos.map((function(repo){return repo.repo_id})):[];return isError?(console.log("Error fetching insight",isError),__jsx("div",null,"-")):__jsx("div",{className:(0,clsx_m.Z)("flex -space-x-3 transition-all duration-300 hover:-space-x-1",classNames)},contributors&&contributors.slice(0,visibleQuantity).map((function(_ref2){var hostLogin=_ref2.host_login;return __jsx("div",{key:"contributor-avatar-".concat(hostLogin),className:"w-8 h-8 overflow-hidden transition-all duration-300 border-2 border-white border-solid rounded-full"},__jsx(avatar_hover_card.Z,{contributor:hostLogin,repositories:repositories}))})))};StackedAvatar.displayName="StackedAvatar",StackedAvatar.__docgenInfo={description:"",methods:[],displayName:"StackedAvatar",props:{visibleQuantity:{defaultValue:{value:"5",computed:!1},required:!1,tsType:{name:"number"},description:""},contributors:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ host_login: string }",signature:{properties:[{key:"host_login",value:{name:"string",required:!0}}]}}],raw:"Contributor[]"},description:""},classNames:{required:!1,tsType:{name:"string"},description:""}}};var stacked_avatar=StackedAvatar;try{stackedavatar.displayName="stackedavatar",stackedavatar.__docgenInfo={description:"",displayName:"stackedavatar",props:{contributors:{defaultValue:null,description:"",name:"contributors",required:!0,type:{name:"Contributor[]"}},visibleQuantity:{defaultValue:{value:"5"},description:"",name:"visibleQuantity",required:!1,type:{name:"number"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/StackedAvatar/stacked-avatar.tsx#stackedavatar"]={docgenInfo:stackedavatar.__docgenInfo,name:"stackedavatar",path:"components/molecules/StackedAvatar/stacked-avatar.tsx#stackedavatar"})}catch(__react_docgen_typescript_loader_error){}},"./stories/molecules/list-card.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},default:function(){return list_card_stories}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),tooltip=__webpack_require__("./components/atoms/Tooltip/tooltip.tsx"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),fi_index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),ri_index_esm=__webpack_require__("./node_modules/react-icons/ri/index.esm.js"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),stacked_avatar=__webpack_require__("./components/molecules/StackedAvatar/stacked-avatar.tsx"),__jsx=react.createElement,ListCard=function ListCard(_ref){var list=_ref.list,handleOnDeleteClick=_ref.handleOnDeleteClick,_useFetchListContribu=function useFetchListContributors(id){var _data$data2,_data$meta2,range=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,_useState3=(0,react.useState)(1),page=_useState3[0],setPage=_useState3[1],_useState4=(0,react.useState)(10),limit=_useState4[0],setLimit=_useState4[1],query=new URLSearchParams;query.set("page","".concat(page)),query.set("limit","".concat(limit)),query.set("range","".concat(range));var endpointString="lists/".concat(id,"/contributors?").concat(query.toString()),_useSWR2=(0,dist.ZP)(id?endpointString:null,public_api_fetcher.Z),data=_useSWR2.data,error=_useSWR2.error,mutate=_useSWR2.mutate;return{data:null!==(_data$data2=null==data?void 0:data.data)&&void 0!==_data$data2?_data$data2:[],isLoading:!error&&!data,isError:!!error,meta:null!==(_data$meta2=null==data?void 0:data.meta)&&void 0!==_data$meta2?_data$meta2:{itemCount:0,limit:0,page:0,hasNextPage:!1,hasPreviousPage:!1,pageCount:0},mutate:mutate,setPage:setPage,setLimit:setLimit}}(list.id),contributors=_useFetchListContribu.data,meta=_useFetchListContribu.meta,contributorsAvatar=null==contributors?void 0:contributors.map((function(contributor){return{host_login:contributor.login||contributor.username}}));return __jsx("div",null,__jsx("div",{className:"flex flex-col items-start w-full gap-4 px-4 py-6 bg-white rounded-lg md:items-center md:justify-between md:flex-row lg:px-8 lg:gap-2"},__jsx("div",{className:"flex flex-col flex-1 gap-4 lg:gap-6"},__jsx("div",{className:"flex items-center gap-4 lg:items-center "},__jsx("div",{className:"w-4 h-4 rounded-full bg-light-orange-10"}),__jsx("div",{className:"flex justify-between text-xl text-light-slate-12"},__jsx(link_default(),{href:"/lists/".concat(list.id,"/overview")},list.name)),__jsx("div",{className:"px-2 border rounded-2xl text-light-slate-11"},list.is_public?"public":"private"))),__jsx("div",{className:""},__jsx("div",{className:"flex items-center justify-end w-full gap-8"},__jsx("div",{className:"flex flex-col items-center flex-1 gap-1 mr-2"},__jsx("span",{className:"text-xs text-light-slate-11"},"Contributors"),__jsx(Typography_text.Z,{className:"flex items-center text-2xl"},meta.itemCount)),__jsx("div",{className:"flex items-center"},__jsx(stacked_avatar.Z,{contributors:contributorsAvatar,visibleQuantity:6,classNames:"scale-125"}),__jsx(tooltip.Z,{content:"Add more contributors"},__jsx("button",{className:"z-50 w-8 h-8 overflow-hidden scale-110 bg-white border-2 border-white rounded-full",type:"button"},__jsx("span",{className:"grid w-full h-full place-items-center bg-purple-200/50"},__jsx(fi_index_esm.OvN,{className:"p-0.5 text-purple-600"}))))),__jsx("div",{className:"justify-end flex-1 hidden md:flex"},__jsx("button",{onClick:function onClick(){return handleOnDeleteClick(list.name,list.id)},className:"inline-block p-3 mr-2 border rounded-lg cursor-pointer bg-light-slate-1",type:"button"},__jsx(ri_index_esm.qy0,{title:"Delete List",className:"text-lg text-light-slate-10"})),__jsx(link_default(),{className:"inline-block p-3 mr-2 border rounded-lg cursor-pointer bg-light-slate-1",href:"/lists/".concat(list.id,"/overview")},__jsx(index_esm.Djl,{title:"Go To Insight Page",className:"text-lg text-light-slate-10"})))))))};ListCard.displayName="ListCard",ListCard.__docgenInfo={description:"",methods:[],displayName:"ListCard",props:{list:{required:!0,tsType:{name:"DbUserList"},description:""},handleOnDeleteClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(listName: string, listId: string) => void",signature:{arguments:[{name:"listName",type:{name:"string"}},{name:"listId",type:{name:"string"}}],return:{name:"void"}}},description:""}}};var _Default$parameters,_Default$parameters2,list_card=ListCard;try{listcard.displayName="listcard",listcard.__docgenInfo={description:"",displayName:"listcard",props:{list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"DbUserList"}},handleOnDeleteClick:{defaultValue:null,description:"",name:"handleOnDeleteClick",required:!0,type:{name:"(listName: string, listId: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ListCard/list-card.tsx#listcard"]={docgenInfo:listcard.__docgenInfo,name:"listcard",path:"components/molecules/ListCard/list-card.tsx#listcard"})}catch(__react_docgen_typescript_loader_error){}var list_card_stories_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var list_card_stories={title:"Design System/Molecules/ListCard"},ListCardTemplate=function ListCardTemplate(args){return list_card_stories_jsx(tooltip.O,null,list_card_stories_jsx(list_card,args))};ListCardTemplate.displayName="ListCardTemplate";var Default=ListCardTemplate.bind({});Default.args={list:{id:"1",name:"List 1",is_public:!0,created_at:"2021-08-10T14:00:00.000Z",updated_at:"2021-08-10T14:00:00.000Z",user:{id:1,login:"user1",name:"User 1"}}},Default.parameters=_objectSpread(_objectSpread({},Default.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:_objectSpread({originalSource:"args => <TipProvider>\n    <ListCard {...args} />\n  </TipProvider>"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2=_Default$parameters2.docs)||void 0===_Default$parameters2?void 0:_Default$parameters2.source)})})}}]);